'use strict';function a2_0x3b70(_0x5418da,_0x1aac1f){const _0x46106b=a2_0x4610();return a2_0x3b70=function(_0x3b7072,_0xb3c1e4){_0x3b7072=_0x3b7072-0x150;let _0xabfc5a=_0x46106b[_0x3b7072];return _0xabfc5a;},a2_0x3b70(_0x5418da,_0x1aac1f);}const a2_0x59b2fc=a2_0x3b70;(function(_0x3c4d3f,_0x2abc20){const _0x141c85=a2_0x3b70,_0x316277=_0x3c4d3f();while(!![]){try{const _0x5b8b40=-parseInt(_0x141c85(0x16b))/0x1*(parseInt(_0x141c85(0x18f))/0x2)+parseInt(_0x141c85(0x15f))/0x3*(parseInt(_0x141c85(0x176))/0x4)+parseInt(_0x141c85(0x170))/0x5+-parseInt(_0x141c85(0x19d))/0x6*(parseInt(_0x141c85(0x180))/0x7)+parseInt(_0x141c85(0x167))/0x8+-parseInt(_0x141c85(0x17b))/0x9*(parseInt(_0x141c85(0x191))/0xa)+-parseInt(_0x141c85(0x17c))/0xb*(-parseInt(_0x141c85(0x165))/0xc);if(_0x5b8b40===_0x2abc20)break;else _0x316277['push'](_0x316277['shift']());}catch(_0x457708){_0x316277['push'](_0x316277['shift']());}}}(a2_0x4610,0xeda75));Object[a2_0x59b2fc(0x1a4)](exports,a2_0x59b2fc(0x1a1),{'value':!![]}),exports[a2_0x59b2fc(0x169)]=exports[a2_0x59b2fc(0x162)]=void 0x0;const enc_1=require(a2_0x59b2fc(0x16d)),Models_1=require('../../Models'),Settings_1=require('../../Settings'),Internal_1=require('../../Internal'),chats_1=require(a2_0x59b2fc(0x183)),makeGroupsSocket=_0x5c3164=>{const _0x298ba9=a2_0x59b2fc,_0x16a136=(0x0,chats_1[_0x298ba9(0x18a)])(_0x5c3164),{authState:_0x540460,ev:_0xf2b3b6,query:_0x30517b,upsertMessage:_0x443777}=_0x16a136,_0x6f2974=async(_0x1ee077,_0x46d148,_0x54c84c)=>_0x30517b({'tag':'iq','attrs':{'type':_0x46d148,'xmlns':_0x298ba9(0x1a5),'to':_0x1ee077},'content':_0x54c84c}),_0x4d5827=async(_0x1af386,_0x48d1,_0x2296b5)=>_0x30517b({'tag':'iq','attrs':{'type':_0x48d1,'xmlns':_0x298ba9(0x151),'to':_0x1af386},'content':_0x2296b5}),_0x2eea20=async _0x314bac=>{const _0x598dc4=_0x298ba9,_0x11ed65=await _0x6f2974(_0x314bac,'get',[{'tag':_0x598dc4(0x193),'attrs':{'request':'interactive'}}]);return(0x0,exports[_0x598dc4(0x169)])(_0x11ed65);},_0x305bc9=async()=>{const _0x403459=_0x298ba9,_0x24b974=await _0x30517b({'tag':'iq','attrs':{'to':_0x403459(0x192),'xmlns':_0x403459(0x1a5),'type':'get'},'content':[{'tag':'participating','attrs':{},'content':[{'tag':_0x403459(0x15a),'attrs':{}},{'tag':_0x403459(0x1a3),'attrs':{}}]}]}),_0x4689a0={},_0x49c70b=(0x0,Internal_1[_0x403459(0x17d)])(_0x24b974,_0x403459(0x154));if(_0x49c70b){const _0xb8d492=(0x0,Internal_1[_0x403459(0x153)])(_0x49c70b,'group');for(const _0x5cc336 of _0xb8d492){const _0x320409=(0x0,exports['extractGroupMetadata'])({'tag':_0x403459(0x164),'attrs':{},'content':[_0x5cc336]});_0x4689a0[_0x320409['id']]=_0x320409;}}return _0x16a136['ev'][_0x403459(0x161)](_0x403459(0x15d),Object[_0x403459(0x18d)](_0x4689a0)),_0x4689a0;};return _0x16a136['ws']['on'](_0x298ba9(0x1a6),async _0x14f59e=>{const _0x6359d3=_0x298ba9,{attrs:_0x31ca20}=(0x0,Internal_1[_0x6359d3(0x17d)])(_0x14f59e,'dirty');if(_0x31ca20[_0x6359d3(0x171)]!==_0x6359d3(0x154))return;await _0x305bc9(),await _0x16a136[_0x6359d3(0x18c)]('groups');}),{..._0x16a136,'groupMetadata':_0x2eea20,'groupCreate':async(_0x29d55b,_0x2f4876)=>{const _0x1e88f3=_0x298ba9,_0xef7e7e=(0x0,Settings_1[_0x1e88f3(0x179)])(),_0x470591=await _0x6f2974(_0x1e88f3(0x192),_0x1e88f3(0x190),[{'tag':_0x1e88f3(0x173),'attrs':{'subject':_0x29d55b,'key':_0xef7e7e},'content':_0x2f4876[_0x1e88f3(0x166)](_0x177aa3=>({'tag':'participant','attrs':{'jid':_0x177aa3}}))}]);return(0x0,exports[_0x1e88f3(0x169)])(_0x470591);},'communityCreate':async _0x2d418c=>{const _0x2c847f=_0x298ba9,_0x17c2b8=(0x0,Settings_1[_0x2c847f(0x179)])(),_0x19b32b=await _0x6f2974('@g.us',_0x2c847f(0x190),[{'tag':_0x2c847f(0x173),'attrs':{'subject':_0x2d418c,'key':_0x17c2b8},'content':[{'tag':'parent','attrs':{'default_membership_approval_mode':'request_required'}}]}]);return(0x0,exports[_0x2c847f(0x169)])(_0x19b32b);},'groupLeave':async _0xc8f8fe=>{const _0x17d38c=_0x298ba9;await _0x6f2974('@g.us','set',[{'tag':'leave','attrs':{},'content':[{'tag':_0x17d38c(0x150),'attrs':{'id':_0xc8f8fe}}]}]);},'groupUpdateSubject':async(_0x51c37d,_0xa55ff0)=>{const _0x4ddc38=_0x298ba9;await _0x6f2974(_0x51c37d,_0x4ddc38(0x190),[{'tag':_0x4ddc38(0x1a2),'attrs':{},'content':Buffer[_0x4ddc38(0x19f)](_0xa55ff0,_0x4ddc38(0x16a))}]);},'groupRequestParticipantsList':async _0x2887f2=>{const _0x2a433e=_0x298ba9,_0x1170ed=await _0x6f2974(_0x2887f2,_0x2a433e(0x182),[{'tag':_0x2a433e(0x15b),'attrs':{}}]),_0x5e8f42=(0x0,Internal_1[_0x2a433e(0x17d)])(_0x1170ed,_0x2a433e(0x15b)),_0x5aa507=(0x0,Internal_1[_0x2a433e(0x153)])(_0x5e8f42,'membership_approval_request');return _0x5aa507[_0x2a433e(0x166)](_0x52cc7e=>_0x52cc7e['attrs']);},'groupRequestParticipantsUpdate':async(_0x1a9367,_0x25b0cc,_0x31a59d)=>{const _0x118d8c=_0x298ba9,_0x2874c1=await _0x6f2974(_0x1a9367,'set',[{'tag':_0x118d8c(0x15c),'attrs':{},'content':[{'tag':_0x31a59d,'attrs':{},'content':_0x25b0cc['map'](_0x14dfbb=>({'tag':_0x118d8c(0x16c),'attrs':{'jid':_0x14dfbb}}))}]}]),_0x356e02=(0x0,Internal_1['getBinaryNodeChild'])(_0x2874c1,_0x118d8c(0x15c)),_0x52c33b=(0x0,Internal_1[_0x118d8c(0x17d)])(_0x356e02,_0x31a59d),_0x13d201=(0x0,Internal_1['getBinaryNodeChildren'])(_0x52c33b,_0x118d8c(0x16c));return _0x13d201['map'](_0x124a43=>{const _0x382985=_0x118d8c;return{'status':_0x124a43[_0x382985(0x15e)][_0x382985(0x185)]||_0x382985(0x195),'jid':_0x124a43['attrs'][_0x382985(0x19e)]};});},'groupParticipantsUpdate':async(_0x455e69,_0x230d2b,_0x2009da)=>{const _0x363565=_0x298ba9,_0x3db2e7=await _0x6f2974(_0x455e69,_0x363565(0x190),[{'tag':_0x2009da,'attrs':{},'content':_0x230d2b[_0x363565(0x166)](_0x5e2f2d=>({'tag':'participant','attrs':{'jid':_0x5e2f2d}}))}]),_0x31f023=(0x0,Internal_1[_0x363565(0x17d)])(_0x3db2e7,_0x2009da),_0x24a1e0=(0x0,Internal_1[_0x363565(0x153)])(_0x31f023,'participant');return _0x24a1e0[_0x363565(0x166)](_0x292f3a=>{const _0x1a3e43=_0x363565;return{'status':_0x292f3a[_0x1a3e43(0x15e)][_0x1a3e43(0x185)]||_0x1a3e43(0x195),'jid':_0x292f3a[_0x1a3e43(0x15e)][_0x1a3e43(0x19e)],'content':_0x292f3a};});},'groupUpdateDescription':async(_0x2094ef,_0x271220)=>{const _0x37a3f9=_0x298ba9;var _0x5b7ff3;const _0xbb007e=await _0x2eea20(_0x2094ef),_0x1f06f8=(_0x5b7ff3=_0xbb007e[_0x37a3f9(0x17a)])!==null&&_0x5b7ff3!==void 0x0?_0x5b7ff3:null;await _0x6f2974(_0x2094ef,'set',[{'tag':_0x37a3f9(0x1a3),'attrs':{..._0x271220?{'id':(0x0,Settings_1['generateMessageID'])()}:{'delete':_0x37a3f9(0x177)},..._0x1f06f8?{'prev':_0x1f06f8}:{}},'content':_0x271220?[{'tag':_0x37a3f9(0x199),'attrs':{},'content':Buffer['from'](_0x271220,'utf-8')}]:undefined}]);},'groupInviteCode':async _0x107236=>{const _0x28c110=_0x298ba9,_0x40b386=await _0x6f2974(_0x107236,_0x28c110(0x182),[{'tag':_0x28c110(0x156),'attrs':{}}]),_0x4a234b=(0x0,Internal_1['getBinaryNodeChild'])(_0x40b386,_0x28c110(0x156));return _0x4a234b===null||_0x4a234b===void 0x0?void 0x0:_0x4a234b[_0x28c110(0x15e)][_0x28c110(0x197)];},'groupRevokeInvite':async _0x20dae2=>{const _0x14ed85=_0x298ba9,_0x796ac9=await _0x6f2974(_0x20dae2,_0x14ed85(0x190),[{'tag':'invite','attrs':{}}]),_0x3a9bcc=(0x0,Internal_1['getBinaryNodeChild'])(_0x796ac9,'invite');return _0x3a9bcc===null||_0x3a9bcc===void 0x0?void 0x0:_0x3a9bcc[_0x14ed85(0x15e)][_0x14ed85(0x197)];},'groupAcceptInvite':async _0x27e85b=>{const _0x532ad8=_0x298ba9,_0x174312=await _0x6f2974(_0x532ad8(0x192),_0x532ad8(0x190),[{'tag':'invite','attrs':{'code':_0x27e85b}}]),_0x14c34e=(0x0,Internal_1[_0x532ad8(0x17d)])(_0x174312,_0x532ad8(0x150));return _0x14c34e===null||_0x14c34e===void 0x0?void 0x0:_0x14c34e[_0x532ad8(0x15e)][_0x532ad8(0x19e)];},'groupAcceptInviteV4':_0xf2b3b6[_0x298ba9(0x18e)](async(_0x15623c,_0x231a66)=>{const _0x186912=_0x298ba9;_0x15623c=typeof _0x15623c===_0x186912(0x1a0)?{'remoteJid':_0x15623c}:_0x15623c;const _0x18d9dc=await _0x6f2974(_0x231a66[_0x186912(0x178)],_0x186912(0x190),[{'tag':_0x186912(0x198),'attrs':{'code':_0x231a66[_0x186912(0x184)],'expiration':_0x231a66[_0x186912(0x160)][_0x186912(0x168)](),'admin':_0x15623c[_0x186912(0x175)]}}]);return _0x15623c['id']&&(_0x231a66=enc_1[_0x186912(0x194)][_0x186912(0x188)]['GroupInviteMessage'][_0x186912(0x19a)](_0x231a66),_0x231a66[_0x186912(0x160)]=0x0,_0x231a66[_0x186912(0x184)]='',_0xf2b3b6[_0x186912(0x161)](_0x186912(0x157),[{'key':_0x15623c,'update':{'message':{'groupInviteMessage':_0x231a66}}}])),await _0x443777({'key':{'remoteJid':_0x231a66['groupJid'],'id':(0x0,Settings_1['generateMessageID'])(),'fromMe':![],'participant':_0x15623c['remoteJid']},'messageStubType':Models_1[_0x186912(0x181)]['GROUP_PARTICIPANT_ADD'],'messageStubParameters':[_0x540460['creds']['me']['id']],'participant':_0x15623c[_0x186912(0x175)],'messageTimestamp':(0x0,Settings_1[_0x186912(0x174)])()},_0x186912(0x18b)),_0x18d9dc['attrs']['from'];}),'groupGetInviteInfo':async _0x448abb=>{const _0x5cb06f=_0x298ba9,_0x1048aa=await _0x6f2974(_0x5cb06f(0x192),_0x5cb06f(0x182),[{'tag':'invite','attrs':{'code':_0x448abb}}]);return(0x0,exports['extractGroupMetadata'])(_0x1048aa);},'groupToggleEphemeral':async(_0x92293b,_0x84c4eb)=>{const _0x5c2f23=_0x298ba9,_0x51c624=_0x84c4eb?{'tag':'ephemeral','attrs':{'expiration':_0x84c4eb[_0x5c2f23(0x168)]()}}:{'tag':_0x5c2f23(0x19b),'attrs':{}};await _0x6f2974(_0x92293b,_0x5c2f23(0x190),[_0x51c624]);},'groupSettingUpdate':async(_0x1a056e,_0x1fdfa9)=>{const _0x1a7504=_0x298ba9;await _0x6f2974(_0x1a056e,_0x1a7504(0x190),[{'tag':_0x1fdfa9,'attrs':{}}]);},'groupFetchAllParticipating':_0x305bc9};};exports[a2_0x59b2fc(0x162)]=makeGroupsSocket;function a2_0x4610(){const _0x112690=['error','announcement','size','Message','parent','makeChatsSocket','notify','cleanDirtyBits','values','createBufferedFunction','800786EUYYUY','set','20BtXZNM','@g.us','query','proto','200','member_add_mode','code','accept','body','fromObject','not_ephemeral','creation','5496LCRqLL','jid','from','string','__esModule','subject','description','defineProperty','w:g2','CB:ib,,dirty','group','w:gp2','s_t','getBinaryNodeChildren','groups','default_sub_group','invite','messages.update','s_o','getBinaryNodeChildString','participants','membership_approval_requests','membership_requests_action','groups.update','attrs','31071pSAMqn','inviteExpiration','emit','makeGroupsSocket','expiration','result','48PbmDlm','map','13033816oDgswR','toString','extractGroupMetadata','utf-8','1aHmFif','participant','../enc','includes','jidEncode','7752710srnMWx','type','creator','create','unixTimestampSeconds','remoteJid','28ONBEfj','true','groupJid','generateMessageID','descId','6375933nthERr','2302619pbQDuL','getBinaryNodeChild','ephemeral','jidNormalizedUser','9926RiPUEC','WAMessageStubType','get','./chats','inviteCode'];a2_0x4610=function(){return _0x112690;};return a2_0x4610();}const extractGroupMetadata=_0x2c70e9=>{const _0x18b117=a2_0x59b2fc;var _0x4428a8,_0x5c9f60;const _0x50a988=(0x0,Internal_1[_0x18b117(0x17d)])(_0x2c70e9,_0x18b117(0x150)),_0x1bc043=(0x0,Internal_1[_0x18b117(0x17d)])(_0x50a988,_0x18b117(0x1a3));let _0x2aa283,_0x45f421;_0x1bc043&&(_0x2aa283=(0x0,Internal_1[_0x18b117(0x159)])(_0x1bc043,_0x18b117(0x199)),_0x45f421=_0x1bc043['attrs']['id']);const _0x1e4d78=_0x50a988['attrs']['id'][_0x18b117(0x16e)]('@')?_0x50a988[_0x18b117(0x15e)]['id']:(0x0,Internal_1[_0x18b117(0x16f)])(_0x50a988[_0x18b117(0x15e)]['id'],'g.us'),_0x46a27c=(_0x4428a8=(0x0,Internal_1[_0x18b117(0x17d)])(_0x50a988,_0x18b117(0x17e)))===null||_0x4428a8===void 0x0?void 0x0:_0x4428a8[_0x18b117(0x15e)][_0x18b117(0x163)],_0x219c4a=(0x0,Internal_1[_0x18b117(0x159)])(_0x50a988,_0x18b117(0x196))==='all_member_add',_0x11dc49={'id':_0x1e4d78,'subject':_0x50a988[_0x18b117(0x15e)]['subject'],'subjectOwner':_0x50a988[_0x18b117(0x15e)][_0x18b117(0x158)],'subjectTime':+_0x50a988['attrs'][_0x18b117(0x152)],'size':+_0x50a988[_0x18b117(0x15e)][_0x18b117(0x187)],'creation':+_0x50a988['attrs'][_0x18b117(0x19c)],'owner':_0x50a988['attrs']['creator']?(0x0,Internal_1[_0x18b117(0x17f)])(_0x50a988[_0x18b117(0x15e)][_0x18b117(0x172)]):undefined,'desc':_0x2aa283,'descId':_0x45f421,'linkedParent':((_0x5c9f60=(0x0,Internal_1[_0x18b117(0x17d)])(_0x50a988,'linked_parent'))===null||_0x5c9f60===void 0x0?void 0x0:_0x5c9f60[_0x18b117(0x15e)][_0x18b117(0x19e)])||undefined,'restrict':!!(0x0,Internal_1['getBinaryNodeChild'])(_0x50a988,'locked'),'announce':!!(0x0,Internal_1[_0x18b117(0x17d)])(_0x50a988,_0x18b117(0x186)),'isCommunity':!!(0x0,Internal_1[_0x18b117(0x17d)])(_0x50a988,_0x18b117(0x189)),'isCommunityAnnounce':!!(0x0,Internal_1['getBinaryNodeChild'])(_0x50a988,_0x18b117(0x155)),'memberAddMode':_0x219c4a,'participants':(0x0,Internal_1['getBinaryNodeChildren'])(_0x50a988,_0x18b117(0x16c))['map'](({attrs:_0x1c155c})=>{const _0x1c969e=_0x18b117;return{'id':_0x1c155c[_0x1c969e(0x19e)],'admin':_0x1c155c['type']||null};}),'ephemeralDuration':_0x46a27c?+_0x46a27c:undefined};return _0x11dc49;};exports[a2_0x59b2fc(0x169)]=extractGroupMetadata;