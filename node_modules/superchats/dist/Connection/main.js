'use strict';function a16_0xc2fa(_0x3bd862,_0x58f1ca){const _0x21c09f=a16_0x21c0();return a16_0xc2fa=function(_0xc2fa60,_0x4f7af1){_0xc2fa60=_0xc2fa60-0x179;let _0xa4ace9=_0x21c09f[_0xc2fa60];return _0xa4ace9;},a16_0xc2fa(_0x3bd862,_0x58f1ca);}const a16_0x4f7c4d=a16_0xc2fa;(function(_0xd76cce,_0xc6fd2d){const _0x14a4a9=a16_0xc2fa,_0x395d75=_0xd76cce();while(!![]){try{const _0x48a04e=parseInt(_0x14a4a9(0x1a9))/0x1*(parseInt(_0x14a4a9(0x1be))/0x2)+-parseInt(_0x14a4a9(0x192))/0x3*(parseInt(_0x14a4a9(0x181))/0x4)+-parseInt(_0x14a4a9(0x1ab))/0x5+parseInt(_0x14a4a9(0x201))/0x6+-parseInt(_0x14a4a9(0x183))/0x7+parseInt(_0x14a4a9(0x217))/0x8*(parseInt(_0x14a4a9(0x219))/0x9)+parseInt(_0x14a4a9(0x191))/0xa*(parseInt(_0x14a4a9(0x21d))/0xb);if(_0x48a04e===_0xc6fd2d)break;else _0x395d75['push'](_0x395d75['shift']());}catch(_0x564f65){_0x395d75['push'](_0x395d75['shift']());}}}(a16_0x21c0,0x24b8f));Object[a16_0x4f7c4d(0x1c9)](exports,a16_0x4f7c4d(0x200),{'value':!![]}),exports['makeSocket']=void 0x0;function a16_0x21c0(){const _0x553996=['companion_platform_id','INITIAL_PREKEY_COUNT','frame','22571lBPaHn','fromObject','562900tGxSio','utf-8','getPlatformId','w:p','isOpen','assign','now','tag','sessionName','getNextPreKeysNode','isLogout','base64','loggedOut','CB:success','multideviceMismatch','MobileSocketClient','proto','bytesToCrockford','send','2abMPCm','optionsDefault','isClosed','passive','printQRIfNecessaryListener','companion_server_auth_key_pub','nextTick','Connection\x20Terminated','phoneState','statusFind','./enc','defineProperty','from','randomBytes','tcp:','getTime','../Settings','encode','Intentional\x20Logout','name','pairingEphemeralKeyPair','HandshakeMessage','creds.update','result','isLogged','error\x20opening\x20connection','qrTimeOut','makeNoiseHandler','split','finally','name\x20of\x20device:\x20','addTransactionCapability','creds','signedIdentityKey','toString','pair-device','Multi-device\x20beta\x20not\x20joined','socket','CB:xmlstreamend','Curve','readyState','buffer','count','connect','S_WHATSAPP_NET','call','finishInit','warn','ref','ping','connectionLost','finish','protocol','derivePairingCodeKey','decodeFrame','phoneNumber','qrReadFail','DEF_TAG_PREFIX','catch','lid','value','error','Session','true','generateRegistrationNode','Connected\x20With\x20Success!!','__esModule','1769778iKRbqU','isClosing','s.whatsapp.net','DEF_CALLBACK_PREFIX','removeAllListeners','generateMdTagPrefix','../Session/index','isArray','tokenRemoved','info','getCodeFromWSError','bindWaitForConnectionUpdate','qrcode','logging\x20in...','shift','Connection\x20Closed','MOBILE_PORT','remove-companion-device','off','encrypt','crypto','getBinaryNodeChild','664xYVfzO','companion_hello','15381XDBZrA','reason','companion_platform_display','URL','31141tMmXWK','isDisconnected','open','string','attrs','forEach','../Models','DisconnectReason','existsSync','CB:iq,,pair-success','.json','Attempts\x20to\x20read\x20the\x20Qrcode\x20have\x20been\x20exhausted','rmSync','Connection\x20was\x20lost','MIN_PREKEY_COUNT','pairingCode','getErrorCodeFromStreamError','link_code_companion_reg','public','connection.update','message','promiseTimeout','./tokens/md_','13028TKypXV','serverDisconnected','1253987olewbX','NOISE_WA_HEADER','encodeFrame','Boom','processHandshake','content','WebSocket\x20Error\x20(','isConnected','\x20messages\x20offline','util','connectionClosed','getBinaryNodeChildren','generateKeyPair','assertNodeErrorFree','940MryYur','261qHcpEA','mobile','active','get','link_code_pairing_nonce','MOBILE_ENDPOINT','join','set','pairing','Connection\x20Failure','keys','@hapi/boom','emit','TAG:','notLogged','generateMobileNode','close','CLOSING','offline','CB:ib,,offline'];a16_0x21c0=function(){return _0x553996;};return a16_0x21c0();}const boom_1=require(a16_0x4f7c4d(0x19d)),crypto_1=require(a16_0x4f7c4d(0x215)),url_1=require('url'),util_1=require(a16_0x4f7c4d(0x18c)),enc_1=require(a16_0x4f7c4d(0x1c8)),mode_1=require('./mode'),Models_1=require(a16_0x4f7c4d(0x223)),Settings_1=require(a16_0x4f7c4d(0x1ce)),Internal_1=require('../Internal'),client_1=require('./client'),index_1=require(a16_0x4f7c4d(0x207)),fs_1=require('fs'),makeSocket=_0x4451a4=>{const _0x513165=a16_0x4f7c4d,{waWebSocketUrl:_0xb4f630,connectTimeoutMs:_0x297a52,logger:_0x29a0a6,keepAliveIntervalMs:_0x31313c,retries:_0x2fcc73,browser:_0x20a3cd,auth:_0x333365,printQRInTerminal:_0x493a96,defaultQueryTimeoutMs:_0x647014,transactionOpts:_0x9b8dbe,qrTimeout:_0x2aad2c,makeSignalRepository:_0x4cb783}=_0x4451a4,_0xebe2a7=(0x0,index_1[_0x513165(0x1fc)])(),{checkAddUser:_0xe46c24,addInfoObjects:_0x1fe479,searchObjects:_0x16e9bc,checkUser:_0x558cd6,sessionsDir:_0x181853,deleteSession:_0x4e15c4,deleteToken:_0x426475,getUser:_0x37ddaa}=_0xebe2a7;let _0x89b305=typeof _0xb4f630===_0x513165(0x220)?new url_1[(_0x513165(0x21c))](_0xb4f630):_0xb4f630;_0x4451a4[_0x513165(0x193)]=_0x4451a4['mobile']||_0x89b305[_0x513165(0x1f2)]===_0x513165(0x1cc);_0x4451a4[_0x513165(0x193)]&&_0x89b305[_0x513165(0x1f2)]!==_0x513165(0x1cc)&&(_0x89b305=new url_1['URL']('tcp://'+mode_1[_0x513165(0x197)]+':'+mode_1[_0x513165(0x211)]));const _0x262fc8=_0x4451a4[_0x513165(0x1e3)]?_0x4451a4[_0x513165(0x1e3)]:_0x4451a4[_0x513165(0x193)]?new client_1[(_0x513165(0x1ba))](_0x89b305,_0x4451a4):new client_1['WebSocketClient'](_0x89b305,_0x4451a4);_0x262fc8[_0x513165(0x1e9)]();const _0x41eb24=(0x0,Settings_1['makeEventBuffer'])(_0x29a0a6),_0x2e6cb7=Settings_1[_0x513165(0x1e5)][_0x513165(0x18f)](),_0x838b5c=(0x0,Settings_1[_0x513165(0x1d9)])({'keyPair':_0x2e6cb7,'NOISE_HEADER':_0x4451a4['mobile']?mode_1['MOBILE_NOISE_HEADER']:mode_1[_0x513165(0x184)],'mobile':_0x4451a4[_0x513165(0x193)],'logger':_0x29a0a6}),{creds:_0x13f0c5}=_0x333365,_0x28fa5d=(0x0,Settings_1[_0x513165(0x1dd)])(_0x333365['keys'],_0x29a0a6,_0x9b8dbe),_0x161653=_0x4cb783({'creds':_0x13f0c5,'keys':_0x28fa5d});let _0x24ad21,_0x3b195c=0x1,_0xcd3066,_0x415d0b,_0x34f836=![];const _0x1f7151=()=>{var _0x1141f0;let _0x116d21=_0x16e9bc((_0x1141f0=_0x13f0c5===null||_0x13f0c5===void 0x0?void 0x0:_0x13f0c5['me'])===null||_0x1141f0===void 0x0?void 0x0:_0x1141f0['id']['split']('@')[0x0]['split'](':')[0x0]);return _0x116d21;};_0x41eb24[_0x513165(0x19e)](_0x513165(0x1c7),_0x513165(0x19a));const _0xdc45e8=(0x0,Settings_1[_0x513165(0x206)])(),_0x3629d3=()=>''+_0xdc45e8+_0x3b195c++,_0x19e37f=(0x0,util_1['promisify'])(_0x262fc8[_0x513165(0x1bd)]),_0xf652f7=async _0x29d16a=>{const _0x585fa3=_0x513165;if(!_0x262fc8[_0x585fa3(0x1af)])throw new boom_1[(_0x585fa3(0x186))](_0x585fa3(0x210),{'statusCode':Models_1['DisconnectReason'][_0x585fa3(0x18d)]});const _0x44bfaa=_0x838b5c[_0x585fa3(0x185)](_0x29d16a);await(0x0,Settings_1[_0x585fa3(0x17f)])(_0x297a52,async(_0x43676a,_0x135080)=>{const _0x59cbc9=_0x585fa3;try{await _0x19e37f[_0x59cbc9(0x1eb)](_0x262fc8,_0x44bfaa),_0x43676a();}catch(_0x45c078){_0x135080(_0x45c078);}});},_0x56e3c9=_0x11f71e=>{const _0x5bf93d=(0x0,Internal_1['encodeBinaryNode'])(_0x11f71e),_0x4f8a1a=Buffer['from'](_0x5bf93d);return _0xf652f7(_0x4f8a1a);},_0x3d1c6c=(_0x2b4f47,_0x5d8255)=>{},_0x2c2d47=async _0x4a8521=>{const _0x27d7e6=_0x513165;if(!_0x262fc8[_0x27d7e6(0x1af)])throw new boom_1['Boom'](_0x27d7e6(0x210),{'statusCode':Models_1[_0x27d7e6(0x224)][_0x27d7e6(0x18d)]});let _0x5d9bfa,_0x543950;const _0x349928=(0x0,Settings_1[_0x27d7e6(0x17f)])(_0x297a52,(_0xb81ba1,_0x5d2279)=>{const _0x5e1a6e=_0x27d7e6;_0x5d9bfa=_0xb81ba1,_0x543950=mapWebSocketError(_0x5d2279),_0x262fc8['on'](_0x5e1a6e(0x1a8),_0x5d9bfa),_0x262fc8['on'](_0x5e1a6e(0x1a2),_0x543950),_0x262fc8['on']('error',_0x543950);})[_0x27d7e6(0x1db)](()=>{const _0x20d89c=_0x27d7e6;_0x262fc8[_0x20d89c(0x213)](_0x20d89c(0x1a8),_0x5d9bfa),_0x262fc8[_0x20d89c(0x213)](_0x20d89c(0x1a2),_0x543950),_0x262fc8[_0x20d89c(0x213)](_0x20d89c(0x1fb),_0x543950);});return _0x4a8521&&_0xf652f7(_0x4a8521)[_0x27d7e6(0x1f8)](_0x543950),_0x349928;},_0xa7fa7f=async(_0x38fff4,_0x2ddaa=_0x647014)=>{const _0x35ec31=_0x513165;let _0x257775,_0x5b6eb8;try{return await(0x0,Settings_1[_0x35ec31(0x17f)])(_0x2ddaa,(_0x3b2e8d,_0x3a391b)=>{const _0x4979eb=_0x35ec31;_0x257775=_0x3b2e8d,_0x5b6eb8=_0x43f289=>{const _0x4b45cd=a16_0xc2fa;_0x3a391b(_0x43f289||new boom_1[(_0x4b45cd(0x186))](_0x4b45cd(0x210),{'statusCode':Models_1[_0x4b45cd(0x224)][_0x4b45cd(0x18d)]}));},_0x262fc8['on'](_0x4979eb(0x19f)+_0x38fff4,_0x257775),_0x262fc8['on'](_0x4979eb(0x1a2),_0x5b6eb8),_0x262fc8[_0x4979eb(0x213)](_0x4979eb(0x1fb),_0x5b6eb8);});}finally{_0x262fc8[_0x35ec31(0x213)](_0x35ec31(0x19f)+_0x38fff4,_0x257775),_0x262fc8[_0x35ec31(0x213)]('close',_0x5b6eb8),_0x262fc8['off']('error',_0x5b6eb8);}},_0x3d8776=async(_0x337a76,_0x32a0fe)=>{const _0x122435=_0x513165;!_0x337a76[_0x122435(0x221)]['id']&&(_0x337a76[_0x122435(0x221)]['id']=_0x3629d3());const _0x3e2925=_0x337a76[_0x122435(0x221)]['id'],_0x2335d7=_0xa7fa7f(_0x3e2925,_0x32a0fe);await _0x56e3c9(_0x337a76);const _0x587e7d=await _0x2335d7;return _0x122435(0x1b2)in _0x587e7d&&(0x0,Internal_1[_0x122435(0x190)])(_0x587e7d),_0x587e7d;},_0x10c0a8=async()=>{const _0x47ad77=_0x513165;let _0x3b92de={'clientHello':{'ephemeral':_0x2e6cb7['public']}};_0x3b92de=enc_1['proto'][_0x47ad77(0x1d3)][_0x47ad77(0x1aa)](_0x3b92de);const _0x52544a=enc_1[_0x47ad77(0x1bb)][_0x47ad77(0x1d3)]['encode'](_0x3b92de)[_0x47ad77(0x1f1)](),_0x8f85b6=await _0x2c2d47(_0x52544a),_0x23adb4=enc_1['proto'][_0x47ad77(0x1d3)]['decode'](_0x8f85b6),_0x3ac14a=_0x838b5c[_0x47ad77(0x187)](_0x23adb4,_0x13f0c5['noiseKey']);let _0x3b3b9e;if(_0x4451a4[_0x47ad77(0x193)])_0x3b3b9e=(0x0,Settings_1[_0x47ad77(0x1a1)])(_0x4451a4);else!_0x13f0c5['me']?(_0x3b3b9e=(0x0,Settings_1[_0x47ad77(0x1fe)])(_0x13f0c5,_0x4451a4),_0x41eb24[_0x47ad77(0x19e)]('statusFind',_0x47ad77(0x1a0))):(_0x3b3b9e=(0x0,Settings_1['generateLoginNode'])(_0x13f0c5['me']['id'],_0x4451a4),_0x29a0a6[_0x47ad77(0x20a)](_0x47ad77(0x20e)));const _0x2b5c14=_0x838b5c['encrypt'](enc_1[_0x47ad77(0x1bb)]['ClientPayload'][_0x47ad77(0x1cf)](_0x3b3b9e)[_0x47ad77(0x1f1)]());await _0xf652f7(enc_1[_0x47ad77(0x1bb)]['HandshakeMessage'][_0x47ad77(0x1cf)]({'clientFinish':{'static':_0x3ac14a,'payload':_0x2b5c14}})[_0x47ad77(0x1f1)]()),_0x838b5c[_0x47ad77(0x1ec)](),_0x261375();},_0x14be12=async()=>{const _0x3b1db4=_0x513165,_0x2740b5=await _0x3d8776({'tag':'iq','attrs':{'id':_0x3629d3(),'xmlns':_0x3b1db4(0x214),'type':'get','to':Internal_1['S_WHATSAPP_NET']},'content':[{'tag':_0x3b1db4(0x1e8),'attrs':{}}]}),_0x56d08c=(0x0,Internal_1[_0x3b1db4(0x216)])(_0x2740b5,_0x3b1db4(0x1e8));return+_0x56d08c['attrs'][_0x3b1db4(0x1fa)];},_0x5d3fae=async(_0x43c0e4=mode_1[_0x513165(0x1a7)])=>{await _0x28fa5d['transaction'](async()=>{const _0x508268=a16_0xc2fa,{update:_0x17af68,node:_0x15e0fb}=await(0x0,Settings_1[_0x508268(0x1b4)])({'creds':_0x13f0c5,'keys':_0x28fa5d},_0x43c0e4);await _0x3d8776(_0x15e0fb),_0x41eb24[_0x508268(0x19e)](_0x508268(0x1d4),_0x17af68);});},_0x3be210=async()=>{const _0x1e549f=_0x513165,_0xa9b6f9=await _0x14be12();_0xa9b6f9<=mode_1[_0x1e549f(0x22b)]&&await _0x5d3fae();},_0xd34b40=_0x5e1120=>{const _0x462c8d=_0x513165;_0x838b5c[_0x462c8d(0x1f4)](_0x5e1120,_0x13b218=>{const _0x5454a6=_0x462c8d;var _0x112254;_0x24ad21=new Date();let _0x272124=![];_0x272124=_0x262fc8[_0x5454a6(0x19e)](_0x5454a6(0x1a8),_0x13b218);if(!(_0x13b218 instanceof Uint8Array)){const _0xa4f8fd=_0x13b218[_0x5454a6(0x221)]['id'];_0x272124=_0x262fc8['emit'](''+mode_1[_0x5454a6(0x1f7)]+_0xa4f8fd,_0x13b218)||_0x272124;const _0x2e879e=_0x13b218[_0x5454a6(0x1b2)],_0x30ff96=_0x13b218[_0x5454a6(0x221)]||{},_0x30d62f=Array[_0x5454a6(0x208)](_0x13b218[_0x5454a6(0x188)])?(_0x112254=_0x13b218[_0x5454a6(0x188)][0x0])===null||_0x112254===void 0x0?void 0x0:_0x112254['tag']:'';Object[_0x5454a6(0x19c)](_0x30ff96)[_0x5454a6(0x222)](_0x1e014a=>{const _0x4ed9f3=_0x5454a6;_0x272124=_0x262fc8['emit'](''+mode_1['DEF_CALLBACK_PREFIX']+_0x2e879e+','+_0x1e014a+':'+_0x30ff96[_0x1e014a]+','+_0x30d62f,_0x13b218)||_0x272124,_0x272124=_0x262fc8[_0x4ed9f3(0x19e)](''+mode_1[_0x4ed9f3(0x204)]+_0x2e879e+','+_0x1e014a+':'+_0x30ff96[_0x1e014a],_0x13b218)||_0x272124,_0x272124=_0x262fc8['emit'](''+mode_1[_0x4ed9f3(0x204)]+_0x2e879e+','+_0x1e014a,_0x13b218)||_0x272124;}),_0x272124=_0x262fc8[_0x5454a6(0x19e)](''+mode_1[_0x5454a6(0x204)]+_0x2e879e+',,'+_0x30d62f,_0x13b218)||_0x272124,_0x272124=_0x262fc8[_0x5454a6(0x19e)](''+mode_1['DEF_CALLBACK_PREFIX']+_0x2e879e,_0x13b218)||_0x272124;}});},_0x3c1534=(_0x5bd622,_0x163df2=![])=>{const _0x4f38f6=_0x513165;if(_0x34f836||_0x163df2)return;_0x34f836=!![],clearInterval(_0xcd3066),clearTimeout(_0x415d0b),_0x262fc8[_0x4f38f6(0x205)](_0x4f38f6(0x1a2)),_0x262fc8[_0x4f38f6(0x205)](_0x4f38f6(0x1fb)),_0x262fc8[_0x4f38f6(0x205)](_0x4f38f6(0x21f)),_0x262fc8['removeAllListeners'](_0x4f38f6(0x17e));if(!_0x262fc8['isClosed']&&!_0x262fc8[_0x4f38f6(0x202)])try{_0x262fc8['close']();}catch(_0x4f8c6f){}_0x41eb24[_0x4f38f6(0x19e)](_0x4f38f6(0x17d),{'connection':_0x4f38f6(0x1a2),'lastDisconnect':{'error':_0x5bd622,'date':new Date()}}),_0x41eb24['removeAllListeners'](_0x4f38f6(0x17d));},_0x32b9ed=()=>{const _0x220df4=_0x513165;clearInterval(_0xcd3066),clearInterval(_0x415d0b),_0x262fc8[_0x220df4(0x205)](_0x220df4(0x1a2)),_0x262fc8[_0x220df4(0x205)](_0x220df4(0x1fb)),_0x262fc8[_0x220df4(0x205)](_0x220df4(0x21f)),_0x262fc8['removeAllListeners'](_0x220df4(0x17e));if(_0x262fc8['readyState']!==_0x262fc8['CLOSED']&&_0x262fc8[_0x220df4(0x1e6)]!==_0x262fc8[_0x220df4(0x1a3)])try{_0x262fc8[_0x220df4(0x1a2)]();}catch(_0x200f23){}let _0xd40a07=undefined;_0x41eb24['emit']('statusFind',_0x220df4(0x21e)),mode_1[_0x220df4(0x1bf)]['phoneState']=![],_0x41eb24[_0x220df4(0x205)](_0x220df4(0x17d));},_0xecc05c=async()=>{const _0x3185cb=_0x513165;if(_0x262fc8[_0x3185cb(0x1af)])return;if(_0x262fc8[_0x3185cb(0x1c0)]||_0x262fc8[_0x3185cb(0x202)])throw new boom_1[(_0x3185cb(0x186))](_0x3185cb(0x210),{'statusCode':Models_1[_0x3185cb(0x224)][_0x3185cb(0x18d)]});let _0x2fa9c0,_0x384ae5;await new Promise((_0x2c6a4a,_0x2a6b36)=>{const _0x1b0eb6=_0x3185cb;_0x2fa9c0=()=>_0x2c6a4a(undefined),_0x384ae5=mapWebSocketError(_0x2a6b36),_0x262fc8['on']('open',_0x2fa9c0),_0x262fc8['on']('close',_0x384ae5),_0x262fc8['on'](_0x1b0eb6(0x1fb),_0x384ae5);})['finally'](()=>{const _0x3b4bf9=_0x3185cb;_0x262fc8[_0x3b4bf9(0x213)]('open',_0x2fa9c0),_0x262fc8['off'](_0x3b4bf9(0x1a2),_0x384ae5),_0x262fc8['off'](_0x3b4bf9(0x1fb),_0x384ae5);});},_0x261375=()=>_0xcd3066=setInterval(()=>{const _0x13f881=_0x513165;!_0x24ad21&&(_0x24ad21=new Date());const _0x5afce5=Date[_0x13f881(0x1b1)]()-_0x24ad21[_0x13f881(0x1cd)]();if(_0x5afce5>_0x31313c+0x1388)_0x3c1534(new boom_1[(_0x13f881(0x186))](_0x13f881(0x22a),{'statusCode':Models_1['DisconnectReason'][_0x13f881(0x1f0)]}));else _0x262fc8[_0x13f881(0x1af)]?_0x3d8776({'tag':'iq','attrs':{'id':_0x3629d3(),'to':Internal_1[_0x13f881(0x1ea)],'type':_0x13f881(0x195),'xmlns':_0x13f881(0x1ae)},'content':[{'tag':_0x13f881(0x1ef),'attrs':{}}]})[_0x13f881(0x1f8)](_0x41265c=>{}):_0x41eb24[_0x13f881(0x19e)](_0x13f881(0x1c7),_0x13f881(0x182));},_0x31313c),_0x220868=_0x26f0d3=>_0x3d8776({'tag':'iq','attrs':{'to':Internal_1[_0x513165(0x1ea)],'xmlns':_0x513165(0x1c1),'type':'set'},'content':[{'tag':_0x26f0d3,'attrs':{}}]}),_0xea9c4=async _0x1156f7=>{const _0xd891e2=_0x513165;var _0x34746c;const _0x10f032=(_0x34746c=_0x333365[_0xd891e2(0x1de)]['me'])===null||_0x34746c===void 0x0?void 0x0:_0x34746c['id'];_0x10f032&&await _0x56e3c9({'tag':'iq','attrs':{'to':Internal_1['S_WHATSAPP_NET'],'type':_0xd891e2(0x199),'id':_0x3629d3(),'xmlns':'md'},'content':[{'tag':_0xd891e2(0x212),'attrs':{'jid':_0x10f032,'reason':'user_initiated'}}]});_0x41eb24[_0xd891e2(0x19e)](_0xd891e2(0x1c7),_0xd891e2(0x1b5));let _0x41667b=_0xd891e2(0x180)+_0x1f7151()+_0xd891e2(0x227);(0x0,fs_1[_0xd891e2(0x225)])(_0x41667b)&&(0x0,fs_1[_0xd891e2(0x229)])(_0x41667b,{'recursive':!![],'force':!![]}),_0x3c1534(new boom_1['Boom'](_0x1156f7||_0xd891e2(0x1d0),{'statusCode':Models_1[_0xd891e2(0x224)][_0xd891e2(0x1b7)]}));},_0x5a55cc=async _0x12c8ef=>{const _0x2a696d=_0x513165;return _0x333365[_0x2a696d(0x1de)][_0x2a696d(0x179)]=(0x0,Settings_1[_0x2a696d(0x1bc)])((0x0,crypto_1[_0x2a696d(0x1cb)])(0x5)),_0x333365[_0x2a696d(0x1de)]['me']={'id':(0x0,Internal_1['jidEncode'])(_0x12c8ef,_0x2a696d(0x203)),'name':'~'},_0x41eb24['emit'](_0x2a696d(0x1d4),_0x333365['creds']),await _0x56e3c9({'tag':'iq','attrs':{'to':Internal_1[_0x2a696d(0x1ea)],'type':_0x2a696d(0x199),'id':_0x3629d3(),'xmlns':'md'},'content':[{'tag':_0x2a696d(0x17b),'attrs':{'jid':_0x333365[_0x2a696d(0x1de)]['me']['id'],'stage':_0x2a696d(0x218),'should_show_push_notification':_0x2a696d(0x1fd)},'content':[{'tag':'link_code_pairing_wrapped_companion_ephemeral_pub','attrs':{},'content':await _0x5cb319()},{'tag':_0x2a696d(0x1c3),'attrs':{},'content':_0x333365[_0x2a696d(0x1de)]['noiseKey']['public']},{'tag':_0x2a696d(0x1a6),'attrs':{},'content':(0x0,Settings_1[_0x2a696d(0x1ad)])(_0x20a3cd[0x1])},{'tag':_0x2a696d(0x21b),'attrs':{},'content':_0x20a3cd[0x1]+'\x20('+_0x20a3cd[0x0]+')'},{'tag':_0x2a696d(0x196),'attrs':{},'content':'0'}]}]}),_0x333365['creds']['pairingCode'];};async function _0x5cb319(){const _0x36b8b6=_0x513165,_0x4b0cfe=(0x0,crypto_1['randomBytes'])(0x20),_0x5a9677=(0x0,crypto_1[_0x36b8b6(0x1cb)])(0x10),_0x427661=await(0x0,Settings_1[_0x36b8b6(0x1f3)])(_0x333365[_0x36b8b6(0x1de)]['pairingCode'],_0x4b0cfe),_0x5a4971=(0x0,Settings_1['aesEncryptCTR'])(_0x333365[_0x36b8b6(0x1de)][_0x36b8b6(0x1d2)]['public'],_0x427661,_0x5a9677);return Buffer['concat']([_0x4b0cfe,_0x5a9677,_0x5a4971]);}_0x262fc8['on'](_0x513165(0x17e),_0xd34b40),_0x262fc8['on']('open',async()=>{try{await _0x10c0a8();}catch(_0x23aac3){_0x3c1534(_0x23aac3);}}),_0x262fc8['on']('error',mapWebSocketError(_0x3c1534)),_0x262fc8['on'](_0x513165(0x1a2),()=>_0x3c1534(new boom_1[(_0x513165(0x186))](_0x513165(0x1c5),{'statusCode':Models_1[_0x513165(0x224)][_0x513165(0x18d)]}))),_0x262fc8['on'](_0x513165(0x1e4),()=>_0x3c1534(new boom_1[(_0x513165(0x186))]('Connection\x20Terminated\x20by\x20Server',{'statusCode':Models_1[_0x513165(0x224)][_0x513165(0x18d)]}))),_0x262fc8['on']('CB:iq,type:set,pair-device',async _0x12048f=>{const _0x226604=_0x513165,_0x46d1da={'tag':'iq','attrs':{'to':Internal_1[_0x226604(0x1ea)],'type':_0x226604(0x1d5),'id':_0x12048f['attrs']['id']}};await _0x56e3c9(_0x46d1da);const _0x229310=(0x0,Internal_1[_0x226604(0x216)])(_0x12048f,_0x226604(0x1e1)),_0x48603f=(0x0,Internal_1[_0x226604(0x18e)])(_0x229310,_0x226604(0x1ee)),_0x1c82af=Buffer[_0x226604(0x1ca)](_0x13f0c5['noiseKey'][_0x226604(0x17c)])['toString'](_0x226604(0x1b6)),_0x506cec=Buffer['from'](_0x13f0c5[_0x226604(0x1df)][_0x226604(0x17c)])[_0x226604(0x1e0)](_0x226604(0x1b6)),_0xe3cc37=_0x13f0c5['advSecretKey'];let _0x504611=0x0,_0x2d839f=_0x2aad2c||0xea60;const _0x57fd05=()=>{const _0x57a74b=_0x226604;if(!_0x262fc8[_0x57a74b(0x1af)])return;const _0x15d985=_0x48603f[_0x57a74b(0x20f)]();if(!_0x15d985||_0x2fcc73==_0x504611){_0x41eb24[_0x57a74b(0x19e)](_0x57a74b(0x1c7),_0x57a74b(0x1d8)),_0x3c1534(_0x29a0a6[_0x57a74b(0x1ed)](_0x57a74b(0x228)),!![]),_0x504611=0x0,clearTimeout(_0x415d0b),clearInterval(_0xcd3066),_0x32b9ed();return;}_0x504611=_0x504611+0x1;const _0x42cca0=_0x15d985['content'][_0x57a74b(0x1e0)](_0x57a74b(0x1ac)),_0x216292=[_0x42cca0,_0x1c82af,_0x506cec,_0xe3cc37][_0x57a74b(0x198)](',');_0x41eb24[_0x57a74b(0x19e)](_0x57a74b(0x20d),_0x216292),_0x41eb24[_0x57a74b(0x19e)]('connection.update',{'qr':_0x216292}),_0x415d0b=setTimeout(_0x57fd05,_0x2d839f),_0x2d839f=_0x2aad2c||0x4e20;};_0x57fd05();}),_0x262fc8['on'](_0x513165(0x226),async _0x5090f8=>{const _0x5bc0f8=_0x513165;var _0xe9d09b,_0x1799d1;try{const {reply:_0x24d00d,creds:_0x56f16a}=(0x0,Settings_1['configureSuccessfulPairing'])(_0x5090f8,_0x13f0c5);_0x41eb24['emit'](_0x5bc0f8(0x1d4),_0x56f16a),_0x41eb24[_0x5bc0f8(0x19e)]('connection.update',{'isNewLogin':!![],'qr':undefined}),_0x41eb24[_0x5bc0f8(0x19e)](_0x5bc0f8(0x1c7),'qrReadSuccess'),_0x1fe479(mode_1[_0x5bc0f8(0x1bf)][_0x5bc0f8(0x1b3)],{'phoneNumber':(_0xe9d09b=_0x13f0c5===null||_0x13f0c5===void 0x0?void 0x0:_0x13f0c5['me'])===null||_0xe9d09b===void 0x0?void 0x0:_0xe9d09b['id'][_0x5bc0f8(0x1da)]('@')[0x0]['split'](':')[0x0],'deviceName':(_0x1799d1=_0x13f0c5===null||_0x13f0c5===void 0x0?void 0x0:_0x13f0c5['me'])===null||_0x1799d1===void 0x0?void 0x0:_0x1799d1[_0x5bc0f8(0x1d1)]}),await _0x56e3c9(_0x24d00d);}catch(_0x5793c0){_0x41eb24[_0x5bc0f8(0x19e)](_0x5bc0f8(0x1c7),_0x5bc0f8(0x1f6)),_0x3c1534(_0x5793c0);}}),_0x262fc8['on'](_0x513165(0x1b8),async _0x4237ae=>{const _0x37f112=_0x513165;var _0x2ac2e7,_0x39db46,_0x4515c4,_0x8b27e7,_0x5cc859,_0x5d76b2;try{_0x41eb24[_0x37f112(0x19e)](_0x37f112(0x1c7),_0x37f112(0x1d6)),await _0x3be210(),await _0x220868(_0x37f112(0x194));let _0x224f2b=mode_1['optionsDefault']['sessionName'];_0x1fe479(_0x224f2b,{'phoneNumber':(_0x2ac2e7=_0x13f0c5===null||_0x13f0c5===void 0x0?void 0x0:_0x13f0c5['me'])===null||_0x2ac2e7===void 0x0?void 0x0:_0x2ac2e7['id'][_0x37f112(0x1da)]('@')[0x0]['split'](':')[0x0],'deviceName':(_0x39db46=_0x13f0c5===null||_0x13f0c5===void 0x0?void 0x0:_0x13f0c5['me'])===null||_0x39db46===void 0x0?void 0x0:_0x39db46[_0x37f112(0x1d1)]}),mode_1[_0x37f112(0x1bf)][_0x37f112(0x1f5)]=(_0x4515c4=_0x13f0c5===null||_0x13f0c5===void 0x0?void 0x0:_0x13f0c5['me'])===null||_0x4515c4===void 0x0?void 0x0:_0x4515c4['id'][_0x37f112(0x1da)]('@')[0x0][_0x37f112(0x1da)](':')[0x0],mode_1[_0x37f112(0x1bf)]['deviceName']=((_0x8b27e7=_0x13f0c5===null||_0x13f0c5===void 0x0?void 0x0:_0x13f0c5['me'])===null||_0x8b27e7===void 0x0?void 0x0:_0x8b27e7[_0x37f112(0x1d1)])?_0x13f0c5['me']['name']:'',((_0x5cc859=_0x13f0c5===null||_0x13f0c5===void 0x0?void 0x0:_0x13f0c5['me'])===null||_0x5cc859===void 0x0?void 0x0:_0x5cc859[_0x37f112(0x1d1)])&&_0x29a0a6['info'](_0x37f112(0x1dc)+_0x13f0c5['me'][_0x37f112(0x1d1)]),_0x29a0a6['info']('connected\x20with\x20phone:\x20'+((_0x5d76b2=_0x13f0c5===null||_0x13f0c5===void 0x0?void 0x0:_0x13f0c5['me'])===null||_0x5d76b2===void 0x0?void 0x0:_0x5d76b2['id'][_0x37f112(0x1da)]('@')[0x0][_0x37f112(0x1da)](':')[0x0])),setTimeout(()=>{const _0x2f4b86=_0x37f112;_0x29a0a6[_0x2f4b86(0x20a)](_0x2f4b86(0x1ff)),_0x41eb24[_0x2f4b86(0x19e)]('statusFind',_0x2f4b86(0x18a));},0x1388),mode_1[_0x37f112(0x1bf)][_0x37f112(0x1c6)]=!![],_0x41eb24[_0x37f112(0x19e)](_0x37f112(0x1d4),{'me':{'id':_0x333365[_0x37f112(0x1de)]['me']['id'],'lid':_0x4237ae[_0x37f112(0x221)][_0x37f112(0x1f9)]}}),_0x41eb24[_0x37f112(0x19e)](_0x37f112(0x17d),{'connection':'open'}),clearTimeout(_0x415d0b);}catch(_0x670304){_0x29a0a6[_0x37f112(0x1fb)]({'err':_0x670304},_0x37f112(0x1d7)),_0x3c1534(_0x670304);}}),_0x262fc8['on']('CB:stream:error',_0x4cf9c3=>{const _0x35ec3d=_0x513165,{reason:_0x529407,statusCode:_0x2c2035}=(0x0,Settings_1[_0x35ec3d(0x17a)])(_0x4cf9c3);_0x3c1534(new boom_1[(_0x35ec3d(0x186))]('Stream\x20Errored\x20('+_0x529407+')',{'statusCode':_0x2c2035,'data':_0x4cf9c3}));}),_0x262fc8['on']('CB:failure',_0x1bb807=>{const _0xe30fd2=_0x513165,_0x580f51=+(_0x1bb807[_0xe30fd2(0x221)][_0xe30fd2(0x21a)]||0x1f4);_0x41eb24[_0xe30fd2(0x19e)](_0xe30fd2(0x1c7),_0xe30fd2(0x209)),_0x3c1534(new boom_1[(_0xe30fd2(0x186))](_0xe30fd2(0x19b),{'statusCode':_0x580f51,'data':_0x1bb807[_0xe30fd2(0x221)]}));}),_0x262fc8['on']('CB:ib,,downgrade_webclient',()=>{const _0x4e5470=_0x513165;_0x3c1534(new boom_1[(_0x4e5470(0x186))](_0x4e5470(0x1e2),{'statusCode':Models_1[_0x4e5470(0x224)][_0x4e5470(0x1b9)]}));});let _0x29256d=![];return process[_0x513165(0x1c4)](()=>{const _0x38871e=_0x513165;var _0x33d631;((_0x33d631=_0x13f0c5['me'])===null||_0x33d631===void 0x0?void 0x0:_0x33d631['id'])&&(_0x41eb24[_0x38871e(0x1e7)](),_0x29256d=!![]),_0x41eb24[_0x38871e(0x19e)](_0x38871e(0x17d),{'connection':'connecting','receivedPendingNotifications':![],'qr':undefined});}),_0x262fc8['on'](_0x513165(0x1a5),_0x1dcb16=>{const _0x3c25de=_0x513165,_0x2135d0=(0x0,Internal_1[_0x3c25de(0x216)])(_0x1dcb16,_0x3c25de(0x1a4)),_0xc5f7a7=+((_0x2135d0===null||_0x2135d0===void 0x0?void 0x0:_0x2135d0[_0x3c25de(0x221)][_0x3c25de(0x1e8)])||0x0);_0x29a0a6[_0x3c25de(0x20a)]('total\x20'+_0xc5f7a7+_0x3c25de(0x18b)),_0x29256d&&_0x41eb24['flush'](),_0x41eb24[_0x3c25de(0x19e)](_0x3c25de(0x17d),{'receivedPendingNotifications':!![]});}),_0x41eb24['on'](_0x513165(0x1d4),_0x4f5eae=>{const _0x8117dc=_0x513165;var _0x244454,_0x42e499;const _0x4fa1ac=(_0x244454=_0x4f5eae['me'])===null||_0x244454===void 0x0?void 0x0:_0x244454[_0x8117dc(0x1d1)];((_0x42e499=_0x13f0c5['me'])===null||_0x42e499===void 0x0?void 0x0:_0x42e499[_0x8117dc(0x1d1)])!==_0x4fa1ac&&_0x56e3c9({'tag':'presence','attrs':{'name':_0x4fa1ac}})[_0x8117dc(0x1f8)](_0xde7d8=>{}),Object[_0x8117dc(0x1b0)](_0x13f0c5,_0x4f5eae);}),_0x493a96&&(0x0,Settings_1[_0x513165(0x1c2)])(_0x41eb24,_0x29a0a6),{'type':'md','ws':_0x262fc8,'ev':_0x41eb24,'authState':{'creds':_0x13f0c5,'keys':_0x28fa5d},'signalRepository':_0x161653,get 'user'(){return _0x333365['creds']['me'];},'generateMessageTag':_0x3629d3,'query':_0x3d8776,'waitForMessage':_0xa7fa7f,'waitForSocketOpen':_0xecc05c,'sendRawMessage':_0xf652f7,'sendNode':_0x56e3c9,'close':_0x32b9ed,..._0xebe2a7,'logout':_0xea9c4,'end':_0x3c1534,'onUnexpectedError':_0x3d1c6c,'uploadPreKeys':_0x5d3fae,'uploadPreKeysToServerIfRequired':_0x3be210,'requestPairingCode':_0x5a55cc,'waitForConnectionUpdate':(0x0,Settings_1[_0x513165(0x20c)])(_0x41eb24)};};exports['makeSocket']=makeSocket;function mapWebSocketError(_0x2bb4f0){return _0x13574f=>{const _0x16e0d2=a16_0xc2fa;_0x2bb4f0(new boom_1[(_0x16e0d2(0x186))](_0x16e0d2(0x189)+(_0x13574f===null||_0x13574f===void 0x0?void 0x0:_0x13574f['message'])+')',{'statusCode':(0x0,Settings_1[_0x16e0d2(0x20b)])(_0x13574f),'data':_0x13574f}));};}