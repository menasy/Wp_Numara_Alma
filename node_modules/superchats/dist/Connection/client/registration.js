'use strict';const a10_0x772e70=a10_0x255b;(function(_0x2152dd,_0x2afeff){const _0x5a7246=a10_0x255b,_0x309c0b=_0x2152dd();while(!![]){try{const _0x2aa1c2=parseInt(_0x5a7246(0x1a7))/0x1+-parseInt(_0x5a7246(0x1cd))/0x2*(-parseInt(_0x5a7246(0x1d0))/0x3)+parseInt(_0x5a7246(0x189))/0x4+-parseInt(_0x5a7246(0x1ce))/0x5+-parseInt(_0x5a7246(0x1b6))/0x6*(parseInt(_0x5a7246(0x1a1))/0x7)+parseInt(_0x5a7246(0x1c6))/0x8*(parseInt(_0x5a7246(0x1bb))/0x9)+-parseInt(_0x5a7246(0x183))/0xa*(parseInt(_0x5a7246(0x197))/0xb);if(_0x2aa1c2===_0x2afeff)break;else _0x309c0b['push'](_0x309c0b['shift']());}catch(_0x24dbf8){_0x309c0b['push'](_0x309c0b['shift']());}}}(a10_0x5c56,0x9809a));var __importDefault=this&&this['__importDefault']||function(_0x1a361e){const _0x3b0eaf=a10_0x255b;return _0x1a361e&&_0x1a361e[_0x3b0eaf(0x1cb)]?_0x1a361e:{'default':_0x1a361e};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a10_0x772e70(0x1c5)]=exports['mobileRegisterEncrypt']=exports['mobileRegister']=exports[a10_0x772e70(0x19c)]=exports[a10_0x772e70(0x1c1)]=exports[a10_0x772e70(0x1c7)]=exports[a10_0x772e70(0x1d2)]=void 0x0;const axios_1=__importDefault(require('axios')),mode_1=require('../mode'),enc_1=require(a10_0x772e70(0x190)),Internal_1=require('../../Internal'),business_1=require(a10_0x772e70(0x1d7));function urlencode(_0x2d26a0){const _0x161632=a10_0x772e70;return _0x2d26a0[_0x161632(0x18f)](/-/g,_0x161632(0x1c9))[_0x161632(0x18f)](/_/g,_0x161632(0x18a))[_0x161632(0x18f)](/~/g,_0x161632(0x1b3));}function a10_0x5c56(){const _0x54d0c8=['User-Agent','%2d','status','__esModule','phoneNumberCountryCode','2kxjtIE','2505845EfGTuB','toString','1616091TPKnql','phoneNumberMobileNetworkCode','makeRegistrationSocket','padStart','backupToken','signedIdentityKey','Curve','../actions/business','phoneNumberMobileCountryCode','creds','from','6187570zjgArR','method','random','sharedKey','hex','options','4175184omKcXK','%5f','emit','/exist','signature','mobileRegister','replace','../../Settings/crypto/enc','noiseKey','identityId','public','jidEncode','base64url','please\x20specify\x20the\x20registration\x20options','22ZgDvHq','deviceId','creds.update','makeBusinessSocket','sms','mobileRegisterExists','alloc','generateKeyPair','000','MOBILE_USERAGENT','1749601kCSCQv','params','authState','concat','push','captcha','21526ElYPYd','registrationId','phoneNumberNationalNumber','default','sent','headers','code','signedPreKey','includes','MOBILE_REGISTRATION_ENDPOINT','/code','registered','%7e','REGISTRATION_PUBLIC_KEY','registration','6aLTFcS','/register','forEach','phoneId','trim','9hmcznv','private','login','aesEncryptGCM','keyId','mobileRegisterEncrypt','mobileRegisterCode','s.whatsapp.net','auth','floor','mobileRegisterFetch','8058824daKPVl','registrationParams'];a10_0x5c56=function(){return _0x54d0c8;};return a10_0x5c56();}function a10_0x255b(_0x4a43e6,_0x2257c2){const _0x5c562e=a10_0x5c56();return a10_0x255b=function(_0x255bf6,_0x33a4bb){_0x255bf6=_0x255bf6-0x180;let _0xce6b15=_0x5c562e[_0x255bf6];return _0xce6b15;},a10_0x255b(_0x4a43e6,_0x2257c2);}const validRegistrationOptions=_0xd47d99=>(_0xd47d99===null||_0xd47d99===void 0x0?void 0x0:_0xd47d99[a10_0x772e70(0x1cc)])&&_0xd47d99[a10_0x772e70(0x1a9)]&&_0xd47d99[a10_0x772e70(0x180)],makeRegistrationSocket=_0x5460b7=>{const _0x1dcf45=a10_0x772e70,_0x21fa5f=(0x0,business_1[_0x1dcf45(0x19a)])(_0x5460b7),_0x1e799d=async _0xafe5fe=>{const _0x54ca66=_0x1dcf45;if(!validRegistrationOptions(_0x5460b7['auth']['creds'][_0x54ca66(0x1b5)]))throw new Error(_0x54ca66(0x196));const _0x3c048f=await mobileRegister({..._0x21fa5f[_0x54ca66(0x1a3)]['creds'],..._0x21fa5f[_0x54ca66(0x1a3)]['creds'][_0x54ca66(0x1b5)],'code':_0xafe5fe},_0x5460b7[_0x54ca66(0x188)]);return _0x21fa5f['authState']['creds']['me']={'id':(0x0,Internal_1[_0x54ca66(0x194)])(_0x3c048f[_0x54ca66(0x1bd)],_0x54ca66(0x1c2)),'name':'~'},_0x21fa5f[_0x54ca66(0x1a3)][_0x54ca66(0x181)][_0x54ca66(0x1b2)]=!![],_0x21fa5f['ev'][_0x54ca66(0x18b)]('creds.update',_0x21fa5f[_0x54ca66(0x1a3)]['creds']),_0x3c048f;},_0x4a3eb9=async _0x23ffa1=>{const _0x18df7f=_0x1dcf45;_0x23ffa1=_0x23ffa1||_0x5460b7[_0x18df7f(0x1c3)][_0x18df7f(0x181)]['registration'];if(!validRegistrationOptions(_0x23ffa1))throw new Error('Invalid\x20registration\x20options');return _0x21fa5f[_0x18df7f(0x1a3)][_0x18df7f(0x181)][_0x18df7f(0x1b5)]=_0x23ffa1,_0x21fa5f['ev']['emit'](_0x18df7f(0x199),_0x21fa5f['authState'][_0x18df7f(0x181)]),mobileRegisterCode({..._0x5460b7['auth'][_0x18df7f(0x181)],..._0x23ffa1},_0x5460b7[_0x18df7f(0x188)]);};return{..._0x21fa5f,'register':_0x1e799d,'requestRegistrationCode':_0x4a3eb9};};exports['makeRegistrationSocket']=makeRegistrationSocket;function convertBufferToUrlHex(_0x46bb50){const _0x35c11f=a10_0x772e70;var _0x966a93='';return _0x46bb50[_0x35c11f(0x1b8)](_0x14f79f=>{const _0x23f788=_0x35c11f;_0x966a93+='%'+_0x14f79f['toString'](0x10)[_0x23f788(0x1d3)](0x2,'0')['toLowerCase']();}),_0x966a93;}function registrationParams(_0x5a479c){const _0x2f2b20=a10_0x772e70,_0x514516=Buffer[_0x2f2b20(0x19d)](0x4);_0x514516['writeInt32BE'](_0x5a479c[_0x2f2b20(0x1a8)]);const _0x2b1e69=Buffer[_0x2f2b20(0x19d)](0x3);return _0x2b1e69['writeInt16BE'](_0x5a479c[_0x2f2b20(0x1ae)][_0x2f2b20(0x1bf)]),_0x5a479c[_0x2f2b20(0x1cc)]=_0x5a479c['phoneNumberCountryCode']['replace']('+','')[_0x2f2b20(0x1ba)](),_0x5a479c[_0x2f2b20(0x1a9)]=_0x5a479c[_0x2f2b20(0x1a9)][_0x2f2b20(0x18f)](/[/-\s)(]/g,'')[_0x2f2b20(0x1ba)](),{'cc':_0x5a479c[_0x2f2b20(0x1cc)],'in':_0x5a479c[_0x2f2b20(0x1a9)],'Rc':'0','lg':'en','lc':'GB','mistyped':'6','authkey':Buffer[_0x2f2b20(0x182)](_0x5a479c[_0x2f2b20(0x191)][_0x2f2b20(0x193)])[_0x2f2b20(0x1cf)]('base64url'),'e_regid':_0x514516[_0x2f2b20(0x1cf)]('base64url'),'e_keytype':'BQ','e_ident':Buffer[_0x2f2b20(0x182)](_0x5a479c[_0x2f2b20(0x1d5)]['public'])[_0x2f2b20(0x1cf)]('base64url'),'e_skey_id':'AAAA','e_skey_val':Buffer['from'](_0x5a479c[_0x2f2b20(0x1ae)]['keyPair']['public'])['toString'](_0x2f2b20(0x195)),'e_skey_sig':Buffer[_0x2f2b20(0x182)](_0x5a479c['signedPreKey'][_0x2f2b20(0x18d)])[_0x2f2b20(0x1cf)](_0x2f2b20(0x195)),'fdid':_0x5a479c[_0x2f2b20(0x1b9)],'network_ratio_type':'1','expid':_0x5a479c[_0x2f2b20(0x198)],'simnum':'1','hasinrc':'1','pid':Math[_0x2f2b20(0x1c4)](Math[_0x2f2b20(0x185)]()*0x3e8)['toString'](),'id':convertBufferToUrlHex(_0x5a479c[_0x2f2b20(0x192)]),'backup_token':convertBufferToUrlHex(_0x5a479c[_0x2f2b20(0x1d4)]),'token':(0x0,enc_1['md5'])(Buffer[_0x2f2b20(0x1a4)]([mode_1['MOBILE_TOKEN'],Buffer[_0x2f2b20(0x182)](_0x5a479c[_0x2f2b20(0x1a9)])]))[_0x2f2b20(0x1cf)](_0x2f2b20(0x187)),'fraud_checkpoint_code':_0x5a479c[_0x2f2b20(0x1a6)]};}exports[a10_0x772e70(0x1c7)]=registrationParams;function mobileRegisterCode(_0xb130cb,_0x4b4c03){const _0x1f6ef2=a10_0x772e70;return mobileRegisterFetch(_0x1f6ef2(0x1b1),{'params':{...registrationParams(_0xb130cb),'mcc':(''+_0xb130cb[_0x1f6ef2(0x180)])[_0x1f6ef2(0x1d3)](0x3,'0'),'mnc':(''+(_0xb130cb[_0x1f6ef2(0x1d1)]||'001'))['padStart'](0x3,'0'),'sim_mcc':_0x1f6ef2(0x19f),'sim_mnc':_0x1f6ef2(0x19f),'method':(_0xb130cb===null||_0xb130cb===void 0x0?void 0x0:_0xb130cb[_0x1f6ef2(0x184)])||_0x1f6ef2(0x19b),'reason':'','hasav':'1'},..._0x4b4c03});}exports['mobileRegisterCode']=mobileRegisterCode;function mobileRegisterExists(_0x456c8f,_0xda45cb){const _0x48b420=a10_0x772e70;return mobileRegisterFetch(_0x48b420(0x18c),{'params':registrationParams(_0x456c8f),..._0xda45cb});}exports['mobileRegisterExists']=mobileRegisterExists;async function mobileRegister(_0x49ae62,_0x5dc91a){const _0x52d918=a10_0x772e70;return mobileRegisterFetch(_0x52d918(0x1b7),{'params':{...registrationParams(_0x49ae62),'code':_0x49ae62[_0x52d918(0x1ad)][_0x52d918(0x18f)]('-','')},..._0x5dc91a});}exports[a10_0x772e70(0x18e)]=mobileRegister;function mobileRegisterEncrypt(_0x105f86){const _0x1c76af=a10_0x772e70,_0x19eea5=enc_1[_0x1c76af(0x1d6)][_0x1c76af(0x19e)](),_0xb73ff5=enc_1[_0x1c76af(0x1d6)][_0x1c76af(0x186)](_0x19eea5[_0x1c76af(0x1bc)],mode_1[_0x1c76af(0x1b4)]),_0x38a2d3=(0x0,enc_1[_0x1c76af(0x1be)])(Buffer[_0x1c76af(0x182)](_0x105f86),new Uint8Array(_0xb73ff5),Buffer[_0x1c76af(0x19d)](0xc),Buffer[_0x1c76af(0x19d)](0x0));return Buffer[_0x1c76af(0x1a4)]([Buffer[_0x1c76af(0x182)](_0x19eea5[_0x1c76af(0x193)]),_0x38a2d3])[_0x1c76af(0x1cf)](_0x1c76af(0x195));}exports[a10_0x772e70(0x1c0)]=mobileRegisterEncrypt;async function mobileRegisterFetch(_0x1d41f2,_0xa8e73e={}){const _0x48961c=a10_0x772e70;let _0x452cb2=''+mode_1[_0x48961c(0x1b0)]+_0x1d41f2;if(_0xa8e73e[_0x48961c(0x1a2)]){const _0xb3d1b6=[];for(const _0x3257bc in _0xa8e73e[_0x48961c(0x1a2)]){_0xa8e73e['params'][_0x3257bc]!==null&&_0xa8e73e[_0x48961c(0x1a2)][_0x3257bc]!==undefined&&_0xb3d1b6[_0x48961c(0x1a5)](_0x3257bc+'='+urlencode(_0xa8e73e[_0x48961c(0x1a2)][_0x3257bc]));}_0x452cb2+='?'+_0xb3d1b6['join']('&'),delete _0xa8e73e[_0x48961c(0x1a2)];}!_0xa8e73e['headers']&&(_0xa8e73e[_0x48961c(0x1ac)]={});_0xa8e73e[_0x48961c(0x1ac)][_0x48961c(0x1c8)]=mode_1[_0x48961c(0x1a0)];const _0x566833=await(0x0,axios_1[_0x48961c(0x1aa)])(_0x452cb2,_0xa8e73e);var _0x23f984=_0x566833['data'];if(_0x566833[_0x48961c(0x1ca)]>0x12c||_0x23f984['reason'])throw _0x23f984;if(_0x23f984[_0x48961c(0x1ca)]&&!['ok',_0x48961c(0x1ab)][_0x48961c(0x1af)](_0x23f984[_0x48961c(0x1ca)]))throw _0x23f984;return _0x23f984;}exports[a10_0x772e70(0x1c5)]=mobileRegisterFetch;