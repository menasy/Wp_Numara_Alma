'use strict';const a63_0x248bea=a63_0x2b19;function a63_0x4ec1(){const _0x4d0904=['isJidStatusNewsletter','content','attrs','isLidUser','direct_peer_status','Message\x20absent\x20from\x20node','5554926QezONH','30986oCHiFs','isJidStatusBroadcast','WebMessageInfo','9117603pJQjge','newsletter','StubType','isJidNewsletter','server_id','details','decryptGroupMessage','../../Internal','1372945oIcSRQ','verifiedName','senderKeyDistributionMessage','pkmsg','assign','isArray','decode','30xcmExT','deviceSentMessage','enc','BufferJSON','other_status','skmsg','1083232anevDC','Details','msg','peer_broadcast','isJidUser','isJidGroup','unpadRandomMax16','decryptMessageNode','SERVER_ACK','from','isJidBroadcast','message','verified_name','messageStubParameters','group','49dUOWHk','messageStubType','other_broadcast','decodeMessageNode','type','participant','chat','CIPHERTEXT','fromMe','processSenderKeyDistributionMessage','../../Connection/enc','2750271wBoQLx','areJidsSameUser','stringify','22HwmqzH','plaintext','3692128XiNtbK','VerifiedNameCertificate','decryptMessage','20rakigq','defineProperty','proto','notify','replacer'];a63_0x4ec1=function(){return _0x4d0904;};return a63_0x4ec1();}(function(_0x1cd17b,_0x5a2881){const _0x26bcbe=a63_0x2b19,_0x598af9=_0x1cd17b();while(!![]){try{const _0x4b3daf=parseInt(_0x26bcbe(0x1c9))/0x1*(parseInt(_0x26bcbe(0x1da))/0x2)+parseInt(_0x26bcbe(0x1c6))/0x3+parseInt(_0x26bcbe(0x1cb))/0x4+parseInt(_0x26bcbe(0x1e5))/0x5*(-parseInt(_0x26bcbe(0x1ec))/0x6)+-parseInt(_0x26bcbe(0x1bb))/0x7*(-parseInt(_0x26bcbe(0x1ac))/0x8)+parseInt(_0x26bcbe(0x1d9))/0x9+parseInt(_0x26bcbe(0x1ce))/0xa*(-parseInt(_0x26bcbe(0x1dd))/0xb);if(_0x4b3daf===_0x5a2881)break;else _0x598af9['push'](_0x598af9['shift']());}catch(_0x1ea1d7){_0x598af9['push'](_0x598af9['shift']());}}}(a63_0x4ec1,0xae8ea));Object[a63_0x248bea(0x1cf)](exports,'__esModule',{'value':!![]}),exports[a63_0x248bea(0x1b3)]=exports['decodeMessageNode']=void 0x0;const enc_1=require(a63_0x248bea(0x1c5)),Internal_1=require(a63_0x248bea(0x1e4)),similary_1=require('./similary'),NO_MESSAGE_FOUND_ERROR_TEXT=a63_0x248bea(0x1d8);function a63_0x2b19(_0x20356e,_0xba5d29){const _0x4ec17b=a63_0x4ec1();return a63_0x2b19=function(_0x2b19fe,_0x75932f){_0x2b19fe=_0x2b19fe-0x1ab;let _0x5e9534=_0x4ec17b[_0x2b19fe];return _0x5e9534;},a63_0x2b19(_0x20356e,_0xba5d29);}function decodeMessageNode(_0x2ae607,_0x28fdc3,_0x4dca5c){const _0x33a1d4=a63_0x248bea;var _0x701025,_0x36fcc9,_0x1ca956;let _0x4275bb,_0x1c0703,_0xe3e70e;const _0x325110=_0x2ae607[_0x33a1d4(0x1d5)]['id'],_0x3b3545=_0x2ae607[_0x33a1d4(0x1d5)][_0x33a1d4(0x1b5)],_0x4f21b6=_0x2ae607[_0x33a1d4(0x1d5)][_0x33a1d4(0x1c0)],_0x433ef4=_0x2ae607[_0x33a1d4(0x1d5)]['recipient'],_0x184768=_0x241ac6=>(0x0,Internal_1[_0x33a1d4(0x1c7)])(_0x241ac6,_0x28fdc3),_0x341c11=_0x1f1514=>(0x0,Internal_1[_0x33a1d4(0x1c7)])(_0x1f1514,_0x4dca5c);if((0x0,Internal_1[_0x33a1d4(0x1b0)])(_0x3b3545)){if(_0x433ef4){if(!_0x184768(_0x3b3545))throw null;_0x1c0703=_0x433ef4;}else _0x1c0703=_0x3b3545;_0x4275bb=_0x33a1d4(0x1c1),_0xe3e70e=_0x3b3545;}else{if((0x0,Internal_1['isLidUser'])(_0x3b3545)){if(_0x433ef4){if(!_0x341c11(_0x3b3545))throw null;_0x1c0703=_0x433ef4;}else _0x1c0703=_0x3b3545;_0x4275bb='chat',_0xe3e70e=_0x3b3545;}else{if((0x0,Internal_1[_0x33a1d4(0x1b1)])(_0x3b3545)){if(!_0x4f21b6)throw null;_0x4275bb=_0x33a1d4(0x1ba),_0xe3e70e=_0x4f21b6,_0x1c0703=_0x3b3545;}else{if((0x0,Internal_1[_0x33a1d4(0x1e0)])(_0x3b3545))_0x4275bb=_0x33a1d4(0x1de),_0xe3e70e=_0x3b3545,_0x1c0703=_0x3b3545;else{if((0x0,Internal_1[_0x33a1d4(0x1b6)])(_0x3b3545)){if(!_0x4f21b6)throw null;const _0x3c5a8f=_0x184768(_0x4f21b6);(0x0,Internal_1[_0x33a1d4(0x1db)])(_0x3b3545)?_0x4275bb=_0x3c5a8f?_0x33a1d4(0x1d7):'other_status':_0x4275bb=_0x3c5a8f?_0x33a1d4(0x1af):_0x33a1d4(0x1bd),_0x1c0703=_0x3b3545,_0xe3e70e=_0x4f21b6;}else{if((0x0,Internal_1['isJidNewsletter'])(_0x3b3545)){if(!_0x4f21b6)throw null;const _0x1fa74a=_0x184768(_0x4f21b6);(0x0,Internal_1[_0x33a1d4(0x1d3)])(_0x3b3545)?_0x4275bb=_0x1fa74a?_0x33a1d4(0x1d7):_0x33a1d4(0x1f0):_0x4275bb=_0x1fa74a?_0x33a1d4(0x1af):_0x33a1d4(0x1bd),_0x1c0703=_0x3b3545,_0xe3e70e=_0x4f21b6;}else throw null;}}}}}const _0x3ea419=(0x0,Internal_1[_0x33a1d4(0x1e0)])(_0x3b3545)?!!((_0x701025=_0x2ae607[_0x33a1d4(0x1d5)])===null||_0x701025===void 0x0?void 0x0:_0x701025['is_sender'])||![]:((0x0,Internal_1[_0x33a1d4(0x1d6)])(_0x3b3545)?_0x341c11:_0x184768)(_0x2ae607[_0x33a1d4(0x1d5)][_0x33a1d4(0x1c0)]||_0x2ae607[_0x33a1d4(0x1d5)][_0x33a1d4(0x1b5)]),_0x56da6f=(_0x36fcc9=_0x2ae607===null||_0x2ae607===void 0x0?void 0x0:_0x2ae607[_0x33a1d4(0x1d5)])===null||_0x36fcc9===void 0x0?void 0x0:_0x36fcc9[_0x33a1d4(0x1d1)],_0x5af673={'remoteJid':_0x1c0703,'fromMe':_0x3ea419,'id':_0x325110,'participant':_0x4f21b6,'server_id':(_0x1ca956=_0x2ae607[_0x33a1d4(0x1d5)])===null||_0x1ca956===void 0x0?void 0x0:_0x1ca956[_0x33a1d4(0x1e1)]},_0x5f30dc={'key':_0x5af673,'messageTimestamp':+_0x2ae607[_0x33a1d4(0x1d5)]['t'],'pushName':_0x56da6f,'broadcast':(0x0,Internal_1['isJidBroadcast'])(_0x3b3545)};return _0x5af673[_0x33a1d4(0x1c3)]&&(_0x5f30dc['status']=enc_1['proto'][_0x33a1d4(0x1dc)]['Status'][_0x33a1d4(0x1b4)]),{'fullMessage':_0x5f30dc,'author':_0xe3e70e,'sender':_0x4275bb==='chat'?_0xe3e70e:_0x1c0703};}exports[a63_0x248bea(0x1be)]=decodeMessageNode;const decryptMessageNode=(_0x193614,_0x3ef570,_0x54c14b,_0x3f1563,_0x5809ae)=>{const {fullMessage:_0x35847f,author:_0x5e6aee,sender:_0x37fa92}=decodeMessageNode(_0x193614,_0x3ef570,_0x54c14b);return{'fullMessage':_0x35847f,'category':_0x193614['attrs']['category'],'author':_0x5e6aee,async 'decrypt'(){const _0x356c52=a63_0x2b19;var _0x27ef15,_0x1a00df;let _0x3e937c=0x0;if(Array[_0x356c52(0x1ea)](_0x193614[_0x356c52(0x1d4)]))for(const {tag:_0x42181c,attrs:_0x3e5d6f,content:_0xc4db4}of _0x193614[_0x356c52(0x1d4)]){if(_0x42181c===_0x356c52(0x1b8)&&_0xc4db4 instanceof Uint8Array){const _0x4c6501=enc_1[_0x356c52(0x1d0)]['VerifiedNameCertificate'][_0x356c52(0x1eb)](_0xc4db4),_0x1d0b38=enc_1[_0x356c52(0x1d0)][_0x356c52(0x1cc)][_0x356c52(0x1ad)][_0x356c52(0x1eb)](_0x4c6501[_0x356c52(0x1e2)]);_0x35847f['verifiedBizName']=_0x1d0b38[_0x356c52(0x1e6)];}if(_0x42181c!==_0x356c52(0x1ee)&&_0x42181c!==_0x356c52(0x1ca))continue;if(!(_0xc4db4 instanceof Uint8Array))continue;_0x3e937c+=0x1;let _0x417660;try{const _0x349e80=_0x3e5d6f[_0x356c52(0x1bf)];switch(_0x349e80){case _0x356c52(0x1ab):_0x417660=await _0x3f1563[_0x356c52(0x1e3)]({'group':_0x37fa92,'authorJid':_0x5e6aee,'msg':_0xc4db4});break;case _0x356c52(0x1e8):case _0x356c52(0x1ae):const _0x446949=(0x0,Internal_1['isJidUser'])(_0x37fa92)?_0x37fa92:_0x5e6aee;_0x417660=await _0x3f1563[_0x356c52(0x1cd)]({'jid':_0x446949,'type':_0x349e80,'ciphertext':_0xc4db4});break;case undefined:_0x417660=_0xc4db4;break;default:throw null;}let _0x4e2cae=enc_1['proto']['Message'][_0x356c52(0x1eb)](_0x42181c==='plaintext'?_0x417660:(0x0,similary_1[_0x356c52(0x1b2)])(_0x417660));_0x4e2cae=((_0x27ef15=_0x4e2cae===null||_0x4e2cae===void 0x0?void 0x0:_0x4e2cae[_0x356c52(0x1ed)])===null||_0x27ef15===void 0x0?void 0x0:_0x27ef15[_0x356c52(0x1b7)])||_0x4e2cae,_0x4e2cae=((_0x1a00df=_0x4e2cae[_0x356c52(0x1ed)])===null||_0x1a00df===void 0x0?void 0x0:_0x1a00df[_0x356c52(0x1b7)])||_0x4e2cae,_0x4e2cae[_0x356c52(0x1e7)]&&await _0x3f1563[_0x356c52(0x1c4)]({'authorJid':_0x5e6aee,'item':_0x4e2cae[_0x356c52(0x1e7)]}),_0x35847f[_0x356c52(0x1b7)]?Object[_0x356c52(0x1e9)](_0x35847f[_0x356c52(0x1b7)],_0x4e2cae):_0x35847f[_0x356c52(0x1b7)]=_0x4e2cae;}catch(_0x584a28){_0x35847f[_0x356c52(0x1bc)]=enc_1[_0x356c52(0x1d0)][_0x356c52(0x1dc)][_0x356c52(0x1df)]['CIPHERTEXT'],_0x35847f[_0x356c52(0x1b9)]=[_0x584a28['message']];}}!_0x3e937c&&(_0x35847f[_0x356c52(0x1bc)]=enc_1['proto'][_0x356c52(0x1dc)]['StubType'][_0x356c52(0x1c2)],_0x35847f[_0x356c52(0x1b9)]=[NO_MESSAGE_FOUND_ERROR_TEXT,JSON[_0x356c52(0x1c8)](_0x193614,similary_1[_0x356c52(0x1ef)][_0x356c52(0x1d2)])]);}};};exports[a63_0x248bea(0x1b3)]=decryptMessageNode;