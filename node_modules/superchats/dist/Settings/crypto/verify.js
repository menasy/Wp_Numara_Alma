'use strict';const a67_0x133f5e=a67_0xb8de;function a67_0x3deb(){const _0x4e215a=['15.3.1','Desktop','encodeBigEndian','decode','join','from','deviceSignature','421182fMhgxt','createSignalIdentity','auth','platform','KEY_BUNDLE_TYPE','23258UgcgDK','verify','phoneNumberCountryCode','__esModule','WebSubPlatform','DNSResolutionMethod','biz','signature','proto','342yWmgxI','attrs','creds','accountSignatureKey','pair-success','PlatformType','WIN32','device','S_WHATSAPP_NET','length','result','device-identity','DARWIN','WebInfo','toUpperCase','details','generateLoginNode','WEB_BROWSER','md5','jidDecode','WIFI_UNKNOWN','phoneNumberMobileNetworkCode','DeviceProps','keyId','DESKTOP','configureSuccessfulPairing','../../Connection/enc','37295lYsBoh','generateRegistrationNode','update','../../Connection/mode','ADVDeviceIdentity','finish','000','browser','test','generateMobileNode','content','ClientPayload','registration','21230uWYECy','random','USER_ACTIVATED','defineProperty','1927968KjVBnY','encodeSignedDeviceIdentity','Platform','ADVSignedDeviceIdentity','40MuxQax','Curve','631526qhfmjx','sign','./similary','syncFullHistory','createHash','ReleaseChannel','version','getBinaryNodeChild','encode','crypto','name','4203eklVKR','mobile','keyIndex','../utils/line','1079160YXKXox','phoneNumberNationalNumber','UserAgent','concat','fromObject','digest','public','private','Apple','DNSSource'];a67_0x3deb=function(){return _0x4e215a;};return a67_0x3deb();}(function(_0x541a6a,_0x4d71aa){const _0x9d4bad=a67_0xb8de,_0x259e4c=_0x541a6a();while(!![]){try{const _0x3e2f94=parseInt(_0x9d4bad(0x1ce))/0x1+parseInt(_0x9d4bad(0x1d3))/0x2+parseInt(_0x9d4bad(0x1bd))/0x3+parseInt(_0x9d4bad(0x1a8))/0x4+-parseInt(_0x9d4bad(0x197))/0x5*(-parseInt(_0x9d4bad(0x17c))/0x6)+-parseInt(_0x9d4bad(0x1ae))/0x7*(parseInt(_0x9d4bad(0x1ac))/0x8)+-parseInt(_0x9d4bad(0x1b9))/0x9*(parseInt(_0x9d4bad(0x1a4))/0xa);if(_0x3e2f94===_0x4d71aa)break;else _0x259e4c['push'](_0x259e4c['shift']());}catch(_0x134af3){_0x259e4c['push'](_0x259e4c['shift']());}}}(a67_0x3deb,0x3ec83));function a67_0xb8de(_0x2053c4,_0x5da7ef){const _0x3debb0=a67_0x3deb();return a67_0xb8de=function(_0xb8de48,_0x219284){_0xb8de48=_0xb8de48-0x177;let _0x46874a=_0x3debb0[_0xb8de48];return _0x46874a;},a67_0xb8de(_0x2053c4,_0x5da7ef);}Object[a67_0x133f5e(0x1a7)](exports,a67_0x133f5e(0x1d6),{'value':!![]}),exports[a67_0x133f5e(0x1a9)]=exports['configureSuccessfulPairing']=exports[a67_0x133f5e(0x198)]=exports[a67_0x133f5e(0x18c)]=exports['generateMobileNode']=void 0x0;const crypto_1=require(a67_0x133f5e(0x1b7)),enc_1=require(a67_0x133f5e(0x196)),mode_1=require(a67_0x133f5e(0x19a)),Internal_1=require('../../Internal'),enc_2=require('./enc'),similary_1=require(a67_0x133f5e(0x1b0)),line_1=require(a67_0x133f5e(0x1bc)),getUserAgent=_0x1be775=>{const _0x319e8b=a67_0x133f5e;var _0x3a35b9,_0xaac86c;const _0x19e3ef=_0x1be775[_0x319e8b(0x1ba)]?_0x319e8b(0x1c7):'0.1',_0x3ed35c=_0x1be775[_0x319e8b(0x1ba)]?[0x2,0x16,0x18]:_0x1be775[_0x319e8b(0x1b4)],_0x5b5a4a=_0x1be775[_0x319e8b(0x1ba)]?'iPhone_7':_0x319e8b(0x1c8),_0x4c5f27=_0x1be775[_0x319e8b(0x1ba)]?_0x319e8b(0x1c5):'',_0x4c3834=_0x1be775[_0x319e8b(0x1ba)]?enc_1['proto'][_0x319e8b(0x1a2)][_0x319e8b(0x1bf)][_0x319e8b(0x1aa)]['IOS']:enc_1[_0x319e8b(0x17b)][_0x319e8b(0x1a2)]['UserAgent'][_0x319e8b(0x1aa)]['WEB'],_0x1b7810=_0x1be775['mobile']?{'phoneId':_0x1be775[_0x319e8b(0x1d0)][_0x319e8b(0x17e)]['phoneId']}:{};return{'appVersion':{'primary':_0x3ed35c[0x0],'secondary':_0x3ed35c[0x1],'tertiary':_0x3ed35c[0x2]},'platform':_0x4c3834,'releaseChannel':enc_1[_0x319e8b(0x17b)][_0x319e8b(0x1a2)][_0x319e8b(0x1bf)][_0x319e8b(0x1b3)]['RELEASE'],'mcc':((_0x3a35b9=_0x1be775['auth']['creds']['registration'])===null||_0x3a35b9===void 0x0?void 0x0:_0x3a35b9['phoneNumberMobileCountryCode'])||'000','mnc':((_0xaac86c=_0x1be775[_0x319e8b(0x1d0)][_0x319e8b(0x17e)][_0x319e8b(0x1a3)])===null||_0xaac86c===void 0x0?void 0x0:_0xaac86c[_0x319e8b(0x191)])||_0x319e8b(0x19d),'osVersion':_0x19e3ef,'manufacturer':_0x4c5f27,'device':_0x5b5a4a,'osBuildNumber':_0x19e3ef,'localeLanguageIso6391':'en','localeCountryIso31661Alpha2':'US',..._0x1b7810};},PLATFORM_MAP={'Mac\x20OS':enc_1[a67_0x133f5e(0x17b)]['ClientPayload'][a67_0x133f5e(0x189)][a67_0x133f5e(0x177)][a67_0x133f5e(0x188)],'Windows':enc_1[a67_0x133f5e(0x17b)][a67_0x133f5e(0x1a2)][a67_0x133f5e(0x189)][a67_0x133f5e(0x177)][a67_0x133f5e(0x182)]},getWebInfo=_0x2572dd=>{const _0x259374=a67_0x133f5e;let _0x16a8f1=enc_1[_0x259374(0x17b)]['ClientPayload'][_0x259374(0x189)]['WebSubPlatform'][_0x259374(0x18d)];return _0x2572dd[_0x259374(0x1b1)]&&PLATFORM_MAP[_0x2572dd[_0x259374(0x19e)][0x0]]&&(_0x16a8f1=PLATFORM_MAP[_0x2572dd[_0x259374(0x19e)][0x0]]),{'webSubPlatform':_0x16a8f1};},getClientPayload=_0x4ff90f=>{const _0x592dcf=a67_0x133f5e,_0x2f8714={'connectType':enc_1[_0x592dcf(0x17b)][_0x592dcf(0x1a2)]['ConnectType'][_0x592dcf(0x190)],'connectReason':enc_1['proto'][_0x592dcf(0x1a2)]['ConnectReason'][_0x592dcf(0x1a6)],'userAgent':getUserAgent(_0x4ff90f)};return!_0x4ff90f[_0x592dcf(0x1ba)]&&(_0x2f8714['webInfo']=getWebInfo(_0x4ff90f)),_0x2f8714;},generateMobileNode=_0x45115d=>{const _0x2adc7a=a67_0x133f5e;if(!_0x45115d[_0x2adc7a(0x1d0)][_0x2adc7a(0x17e)])throw null;const _0x7a5c14={...getClientPayload(_0x45115d),'sessionId':Math['floor'](Math[_0x2adc7a(0x1a5)]()*0x3b9ac9ff+0x1),'shortConnect':!![],'connectAttemptCount':0x0,'device':0x0,'dnsSource':{'appCached':![],'dnsMethod':enc_1[_0x2adc7a(0x17b)][_0x2adc7a(0x1a2)][_0x2adc7a(0x1c6)][_0x2adc7a(0x178)]['SYSTEM']},'passive':![],'pushName':_0x2adc7a(0x19f),'username':Number(''+_0x45115d[_0x2adc7a(0x1d0)][_0x2adc7a(0x17e)][_0x2adc7a(0x1a3)][_0x2adc7a(0x1d5)]+_0x45115d['auth'][_0x2adc7a(0x17e)][_0x2adc7a(0x1a3)][_0x2adc7a(0x1be)])};return enc_1[_0x2adc7a(0x17b)]['ClientPayload'][_0x2adc7a(0x1c1)](_0x7a5c14);};exports[a67_0x133f5e(0x1a0)]=generateMobileNode;const getPlatformType=_0x280c94=>{const _0xf26518=a67_0x133f5e,_0x5eae07=_0x280c94[_0xf26518(0x18a)]();return enc_1[_0xf26518(0x17b)][_0xf26518(0x192)][_0xf26518(0x181)][_0x5eae07]||enc_1[_0xf26518(0x17b)]['DeviceProps']['PlatformType'][_0xf26518(0x194)];},generateLoginNode=(_0x533da4,_0x1c1157)=>{const _0x50c4ed=a67_0x133f5e,{user:_0xaa5fb6,device:_0x38b2c4}=(0x0,Internal_1[_0x50c4ed(0x18f)])(_0x533da4),_0x1f7b68={...getClientPayload(_0x1c1157),'passive':!![],'username':+_0xaa5fb6,'device':_0x38b2c4};return enc_1[_0x50c4ed(0x17b)][_0x50c4ed(0x1a2)]['fromObject'](_0x1f7b68);};exports[a67_0x133f5e(0x18c)]=generateLoginNode;const generateRegistrationNode=({registrationId:_0x178578,signedPreKey:_0xe6f35b,signedIdentityKey:_0x3c8199},_0x330c5f)=>{const _0x576d61=a67_0x133f5e,_0x3723dd=(0x0,crypto_1[_0x576d61(0x1b2)])(_0x576d61(0x18e))[_0x576d61(0x199)](_0x330c5f[_0x576d61(0x1b4)][_0x576d61(0x1cb)]('.'))[_0x576d61(0x1c2)](),_0x25fb2e={'os':_0x330c5f[_0x576d61(0x19e)][0x0],'platformType':getPlatformType(_0x330c5f[_0x576d61(0x19e)][0x1]),'requireFullSync':_0x330c5f[_0x576d61(0x1b1)]},_0x2d5ebc=enc_1['proto'][_0x576d61(0x192)][_0x576d61(0x1b6)](_0x25fb2e)[_0x576d61(0x19c)](),_0x5cc13e={...getClientPayload(_0x330c5f),'passive':![],'devicePairingData':{'buildHash':_0x3723dd,'deviceProps':_0x2d5ebc,'eRegid':(0x0,similary_1[_0x576d61(0x1c9)])(_0x178578),'eKeytype':mode_1[_0x576d61(0x1d2)],'eIdent':_0x3c8199[_0x576d61(0x1c3)],'eSkeyId':(0x0,similary_1[_0x576d61(0x1c9)])(_0xe6f35b[_0x576d61(0x193)],0x3),'eSkeyVal':_0xe6f35b['keyPair'][_0x576d61(0x1c3)],'eSkeySig':_0xe6f35b[_0x576d61(0x17a)]}};return enc_1[_0x576d61(0x17b)][_0x576d61(0x1a2)][_0x576d61(0x1c1)](_0x5cc13e);};exports[a67_0x133f5e(0x198)]=generateRegistrationNode;const configureSuccessfulPairing=(_0x219b84,{advSecretKey:_0x2d1acf,signedIdentityKey:_0x4a810f,signalIdentities:_0x583419})=>{const _0x69b668=a67_0x133f5e,_0x2e820c=_0x219b84[_0x69b668(0x17d)]['id'],_0x3ad59a=(0x0,Internal_1[_0x69b668(0x1b5)])(_0x219b84,_0x69b668(0x180)),_0x13a972=(0x0,Internal_1['getBinaryNodeChild'])(_0x3ad59a,'device-identity'),_0x2db8c5=(0x0,Internal_1[_0x69b668(0x1b5)])(_0x3ad59a,_0x69b668(0x1d1)),_0x512aa6=(0x0,Internal_1[_0x69b668(0x1b5)])(_0x3ad59a,_0x69b668(0x183)),_0x125bee=(0x0,Internal_1['getBinaryNodeChild'])(_0x3ad59a,_0x69b668(0x179));if(!_0x13a972||!_0x512aa6)throw null;const _0x1fa21d=_0x125bee===null||_0x125bee===void 0x0?void 0x0:_0x125bee[_0x69b668(0x17d)]['name'],_0x59b78f=_0x512aa6[_0x69b668(0x17d)]['jid'],{details:_0x39389a,hmac:_0x5a91d3}=enc_1[_0x69b668(0x17b)]['ADVSignedDeviceIdentityHMAC'][_0x69b668(0x1ca)](_0x13a972[_0x69b668(0x1a1)]),_0x36ee08=(0x0,enc_2['hmacSign'])(_0x39389a,Buffer['from'](_0x2d1acf,'base64'));if(Buffer['compare'](_0x5a91d3,_0x36ee08)!==0x0)throw null;const _0xdaf81e=enc_1[_0x69b668(0x17b)]['ADVSignedDeviceIdentity'][_0x69b668(0x1ca)](_0x39389a),{accountSignatureKey:_0x439a9e,accountSignature:_0x156538,details:_0x67d677}=_0xdaf81e,_0x5f86ee=Buffer[_0x69b668(0x1c0)]([Buffer[_0x69b668(0x1cc)]([0x6,0x0]),_0x67d677,_0x4a810f['public']]);if(!enc_2[_0x69b668(0x1ad)][_0x69b668(0x1d4)](_0x439a9e,_0x5f86ee,_0x156538))throw null;const _0x3fda6d=Buffer[_0x69b668(0x1c0)]([Buffer[_0x69b668(0x1cc)]([0x6,0x1]),_0x67d677,_0x4a810f[_0x69b668(0x1c3)],_0x439a9e]);_0xdaf81e[_0x69b668(0x1cd)]=enc_2[_0x69b668(0x1ad)][_0x69b668(0x1af)](_0x4a810f[_0x69b668(0x1c4)],_0x3fda6d);const _0x53f297=(0x0,line_1[_0x69b668(0x1cf)])(_0x59b78f,_0x439a9e),_0x58f936=(0x0,exports[_0x69b668(0x1a9)])(_0xdaf81e,![]),_0x52028b=enc_1[_0x69b668(0x17b)][_0x69b668(0x19b)]['decode'](_0xdaf81e[_0x69b668(0x18b)]),_0x1b391a={'tag':'iq','attrs':{'to':Internal_1[_0x69b668(0x184)],'type':_0x69b668(0x186),'id':_0x2e820c},'content':[{'tag':'pair-device-sign','attrs':{},'content':[{'tag':_0x69b668(0x187),'attrs':{'key-index':_0x52028b[_0x69b668(0x1bb)]['toString']()},'content':_0x58f936}]}]},_0x4b74e5={'account':_0xdaf81e,'me':{'id':_0x59b78f,'name':_0x1fa21d},'signalIdentities':[..._0x583419||[],_0x53f297],'platform':_0x2db8c5===null||_0x2db8c5===void 0x0?void 0x0:_0x2db8c5[_0x69b668(0x17d)][_0x69b668(0x1b8)]};return{'creds':_0x4b74e5,'reply':_0x1b391a};};exports[a67_0x133f5e(0x195)]=configureSuccessfulPairing;const encodeSignedDeviceIdentity=(_0x5acdde,_0x4333e8)=>{const _0x59e74d=a67_0x133f5e;var _0x344bc2;return _0x5acdde={..._0x5acdde},(!_0x4333e8||!((_0x344bc2=_0x5acdde[_0x59e74d(0x17f)])===null||_0x344bc2===void 0x0?void 0x0:_0x344bc2[_0x59e74d(0x185)]))&&(_0x5acdde[_0x59e74d(0x17f)]=null),enc_1[_0x59e74d(0x17b)][_0x59e74d(0x1ab)]['encode'](_0x5acdde)[_0x59e74d(0x19c)]();};exports[a67_0x133f5e(0x1a9)]=encodeSignedDeviceIdentity;