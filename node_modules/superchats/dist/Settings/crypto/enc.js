'use strict';const a64_0x336685=a64_0x47d7;(function(_0x477664,_0x338e94){const _0x5a350e=a64_0x47d7,_0x24645d=_0x477664();while(!![]){try{const _0x4ab94d=-parseInt(_0x5a350e(0xdc))/0x1*(parseInt(_0x5a350e(0xd7))/0x2)+-parseInt(_0x5a350e(0xa8))/0x3*(parseInt(_0x5a350e(0xc3))/0x4)+parseInt(_0x5a350e(0xc5))/0x5+parseInt(_0x5a350e(0xcf))/0x6*(parseInt(_0x5a350e(0xda))/0x7)+-parseInt(_0x5a350e(0xa9))/0x8*(parseInt(_0x5a350e(0xb5))/0x9)+parseInt(_0x5a350e(0xbd))/0xa*(-parseInt(_0x5a350e(0xcd))/0xb)+parseInt(_0x5a350e(0xa7))/0xc*(parseInt(_0x5a350e(0xb9))/0xd);if(_0x4ab94d===_0x338e94)break;else _0x24645d['push'](_0x24645d['shift']());}catch(_0x137a8a){_0x24645d['push'](_0x24645d['shift']());}}}(a64_0x2378,0x3d68a));var __createBinding=this&&this[a64_0x336685(0xd1)]||(Object[a64_0x336685(0xe3)]?function(_0x3df2f9,_0x469dee,_0x2be232,_0x33413f){const _0xd9906f=a64_0x336685;if(_0x33413f===undefined)_0x33413f=_0x2be232;var _0xf691ca=Object[_0xd9906f(0xab)](_0x469dee,_0x2be232);(!_0xf691ca||('get'in _0xf691ca?!_0x469dee[_0xd9906f(0xd4)]:_0xf691ca[_0xd9906f(0xaa)]||_0xf691ca[_0xd9906f(0xb7)]))&&(_0xf691ca={'enumerable':!![],'get':function(){return _0x469dee[_0x2be232];}}),Object['defineProperty'](_0x3df2f9,_0x33413f,_0xf691ca);}:function(_0x471afb,_0x1c6932,_0x33c8cd,_0x323ce8){if(_0x323ce8===undefined)_0x323ce8=_0x33c8cd;_0x471afb[_0x323ce8]=_0x1c6932[_0x33c8cd];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a64_0x336685(0xe3)]?function(_0x10cb3e,_0x161531){const _0x4093d8=a64_0x336685;Object['defineProperty'](_0x10cb3e,_0x4093d8(0xbf),{'enumerable':!![],'value':_0x161531});}:function(_0x24269f,_0x243f61){const _0x16a209=a64_0x336685;_0x24269f[_0x16a209(0xbf)]=_0x243f61;}),__importStar=this&&this[a64_0x336685(0xb8)]||function(_0x17f76e){const _0x56b34f=a64_0x336685;if(_0x17f76e&&_0x17f76e[_0x56b34f(0xd4)])return _0x17f76e;var _0x196e18={};if(_0x17f76e!=null){for(var _0x288a46 in _0x17f76e)if(_0x288a46!=='default'&&Object['prototype'][_0x56b34f(0xbe)]['call'](_0x17f76e,_0x288a46))__createBinding(_0x196e18,_0x17f76e,_0x288a46);}return __setModuleDefault(_0x196e18,_0x17f76e),_0x196e18;},__importDefault=this&&this[a64_0x336685(0xae)]||function(_0x2ed0e2){return _0x2ed0e2&&_0x2ed0e2['__esModule']?_0x2ed0e2:{'default':_0x2ed0e2};};Object['defineProperty'](exports,a64_0x336685(0xd4),{'value':!![]}),exports['derivePairingCodeKey']=exports[a64_0x336685(0xca)]=exports[a64_0x336685(0xc7)]=exports[a64_0x336685(0xe2)]=exports[a64_0x336685(0xe0)]=exports[a64_0x336685(0xd5)]=exports[a64_0x336685(0xde)]=exports[a64_0x336685(0xa3)]=exports['aesDecrypt']=exports['aesDecryptCTR']=exports[a64_0x336685(0xdd)]=exports[a64_0x336685(0xd0)]=exports[a64_0x336685(0xaf)]=exports[a64_0x336685(0xc8)]=exports[a64_0x336685(0xb3)]=exports[a64_0x336685(0xc6)]=void 0x0;const crypto_1=require('crypto'),futoin_hkdf_1=__importDefault(require(a64_0x336685(0xb0))),util_1=require(a64_0x336685(0xcc)),libsignal=__importStar(require('super-libsignal')),mode_1=require(a64_0x336685(0xbc)),pbkdf2Promise=(0x0,util_1[a64_0x336685(0xc1)])(crypto_1['pbkdf2']),generateSignalPubKey=_0x1dafcd=>_0x1dafcd[a64_0x336685(0xd9)]===0x21?_0x1dafcd:Buffer[a64_0x336685(0xd2)]([mode_1['KEY_BUNDLE_TYPE'],_0x1dafcd]);exports[a64_0x336685(0xc6)]=generateSignalPubKey,exports['Curve']={'generateKeyPair':()=>{const _0x382bbb=a64_0x336685,{pubKey:_0x352a95,privKey:_0x4e558a}=libsignal[_0x382bbb(0xd3)][_0x382bbb(0xdb)]();return{'private':Buffer[_0x382bbb(0xb4)](_0x4e558a),'public':Buffer[_0x382bbb(0xb4)](_0x352a95[_0x382bbb(0xc2)](0x1))};},'sharedKey':(_0x35ea5f,_0x4bb0d4)=>{const _0x5205ac=a64_0x336685,_0xa3b921=libsignal[_0x5205ac(0xd3)]['calculateAgreement']((0x0,exports[_0x5205ac(0xc6)])(_0x4bb0d4),_0x35ea5f);return Buffer['from'](_0xa3b921);},'sign':(_0x5580a6,_0x158204)=>libsignal[a64_0x336685(0xd3)][a64_0x336685(0xa4)](_0x5580a6,_0x158204),'verify':(_0x33ee89,_0xa420a9,_0x563a79)=>{const _0x51d0ed=a64_0x336685;try{return libsignal[_0x51d0ed(0xd3)][_0x51d0ed(0xad)]((0x0,exports[_0x51d0ed(0xc6)])(_0x33ee89),_0xa420a9,_0x563a79),!![];}catch(_0x4d4713){return![];}}};const signedKeyPair=(_0x490544,_0x4c8c4f)=>{const _0x1543f1=a64_0x336685,_0x4e69cd=exports[_0x1543f1(0xb3)]['generateKeyPair'](),_0x31c4dd=(0x0,exports[_0x1543f1(0xc6)])(_0x4e69cd[_0x1543f1(0xb1)]),_0x38b40e=exports[_0x1543f1(0xb3)]['sign'](_0x490544[_0x1543f1(0xb6)],_0x31c4dd);return{'keyPair':_0x4e69cd,'signature':_0x38b40e,'keyId':_0x4c8c4f};};exports[a64_0x336685(0xc8)]=signedKeyPair;const GCM_TAG_LENGTH=0x80>>0x3;function aesEncryptGCM(_0x225cc8,_0x6c6cc7,_0x427352,_0xf053aa){const _0xbf9bc6=a64_0x336685,_0x21931e=(0x0,crypto_1[_0xbf9bc6(0xa5)])(_0xbf9bc6(0xb2),_0x6c6cc7,_0x427352);return _0x21931e['setAAD'](_0xf053aa),Buffer[_0xbf9bc6(0xd2)]([_0x21931e[_0xbf9bc6(0xbb)](_0x225cc8),_0x21931e[_0xbf9bc6(0xc9)](),_0x21931e[_0xbf9bc6(0xe1)]()]);}exports[a64_0x336685(0xaf)]=aesEncryptGCM;function aesDecryptGCM(_0x2fe471,_0x4bbe08,_0x3659eb,_0x19aeae){const _0x4084d8=a64_0x336685,_0x2f8d3d=(0x0,crypto_1[_0x4084d8(0xc4)])(_0x4084d8(0xb2),_0x4bbe08,_0x3659eb),_0x338a78=_0x2fe471[_0x4084d8(0xc2)](0x0,_0x2fe471[_0x4084d8(0xd9)]-GCM_TAG_LENGTH),_0x2b2c00=_0x2fe471['slice'](_0x2fe471[_0x4084d8(0xd9)]-GCM_TAG_LENGTH);return _0x2f8d3d[_0x4084d8(0xac)](_0x19aeae),_0x2f8d3d[_0x4084d8(0xba)](_0x2b2c00),Buffer[_0x4084d8(0xd2)]([_0x2f8d3d[_0x4084d8(0xbb)](_0x338a78),_0x2f8d3d[_0x4084d8(0xc9)]()]);}exports[a64_0x336685(0xd0)]=aesDecryptGCM;function aesEncryptCTR(_0x496204,_0x286367,_0x31e407){const _0x70c615=a64_0x336685,_0x479e9c=(0x0,crypto_1[_0x70c615(0xa5)])(_0x70c615(0xcb),_0x286367,_0x31e407);return Buffer[_0x70c615(0xd2)]([_0x479e9c[_0x70c615(0xbb)](_0x496204),_0x479e9c['final']()]);}exports[a64_0x336685(0xdd)]=aesEncryptCTR;function aesDecryptCTR(_0x164a15,_0x517061,_0x1c6e80){const _0x2739bc=a64_0x336685,_0x2e03c5=(0x0,crypto_1[_0x2739bc(0xc4)])('aes-256-ctr',_0x517061,_0x1c6e80);return Buffer[_0x2739bc(0xd2)]([_0x2e03c5[_0x2739bc(0xbb)](_0x164a15),_0x2e03c5[_0x2739bc(0xc9)]()]);}function a64_0x2378(){const _0x33fd30=['__esModule','aesEncrypWithIV','digest','217124fqRuxJ','randomBytes','length','1429988KUWXtC','generateKeyPair','1xwGYgc','aesEncryptCTR','aesEncrypt','aesDecrypt','hmacSign','getAuthTag','sha256','create','aesDecryptCTR','aesDecryptWithIV','calculateSignature','createCipheriv','aes-256-cbc','19140IDHsSR','252081uzwhow','80WgbteR','writable','getOwnPropertyDescriptor','setAAD','verifySignature','__importDefault','aesEncryptGCM','futoin-hkdf','public','aes-256-gcm','Curve','from','307350NfEThG','private','configurable','__importStar','4303NmjRPe','setAuthTag','update','../../Connection/mode','16910CISGOh','hasOwnProperty','default','createHash','promisify','slice','8PAmbzo','createDecipheriv','1862330ySwQvM','generateSignalPubKey','md5','signedKeyPair','final','hkdf','aes-256-ctr','util','1529HgIOvS','createHmac','6EqlGzY','aesDecryptGCM','__createBinding','concat','curve'];a64_0x2378=function(){return _0x33fd30;};return a64_0x2378();}exports[a64_0x336685(0xa2)]=aesDecryptCTR;function aesDecrypt(_0x3b0cda,_0x3aadba){const _0x441edf=a64_0x336685;return aesDecryptWithIV(_0x3b0cda[_0x441edf(0xc2)](0x10,_0x3b0cda[_0x441edf(0xd9)]),_0x3aadba,_0x3b0cda[_0x441edf(0xc2)](0x0,0x10));}exports[a64_0x336685(0xdf)]=aesDecrypt;function aesDecryptWithIV(_0x401a02,_0x12e544,_0x39dac3){const _0x1ec578=a64_0x336685,_0x95c108=(0x0,crypto_1[_0x1ec578(0xc4)])(_0x1ec578(0xa6),_0x12e544,_0x39dac3);return Buffer[_0x1ec578(0xd2)]([_0x95c108[_0x1ec578(0xbb)](_0x401a02),_0x95c108[_0x1ec578(0xc9)]()]);}exports[a64_0x336685(0xa3)]=aesDecryptWithIV;function aesEncrypt(_0x5a6037,_0x3335bc){const _0x115876=a64_0x336685,_0x5efb5a=(0x0,crypto_1[_0x115876(0xd8)])(0x10),_0x488c04=(0x0,crypto_1[_0x115876(0xa5)])(_0x115876(0xa6),_0x3335bc,_0x5efb5a);return Buffer['concat']([_0x5efb5a,_0x488c04[_0x115876(0xbb)](_0x5a6037),_0x488c04[_0x115876(0xc9)]()]);}exports[a64_0x336685(0xde)]=aesEncrypt;function aesEncrypWithIV(_0x2463aa,_0x104dd8,_0x21a4e7){const _0x451b37=a64_0x336685,_0x4fae08=(0x0,crypto_1[_0x451b37(0xa5)])(_0x451b37(0xa6),_0x104dd8,_0x21a4e7);return Buffer[_0x451b37(0xd2)]([_0x4fae08['update'](_0x2463aa),_0x4fae08['final']()]);}function a64_0x47d7(_0x20e774,_0x50b0b4){const _0x2378aa=a64_0x2378();return a64_0x47d7=function(_0x47d781,_0x3101c2){_0x47d781=_0x47d781-0xa2;let _0x55ce6e=_0x2378aa[_0x47d781];return _0x55ce6e;},a64_0x47d7(_0x20e774,_0x50b0b4);}exports['aesEncrypWithIV']=aesEncrypWithIV;function hmacSign(_0x3666b8,_0x34c52d,_0x45447b='sha256'){const _0x3e7e3f=a64_0x336685;return(0x0,crypto_1[_0x3e7e3f(0xce)])(_0x45447b,_0x34c52d)[_0x3e7e3f(0xbb)](_0x3666b8)[_0x3e7e3f(0xd6)]();}exports[a64_0x336685(0xe0)]=hmacSign;function sha256(_0x9b5951){const _0x2e180f=a64_0x336685;return(0x0,crypto_1['createHash'])(_0x2e180f(0xe2))[_0x2e180f(0xbb)](_0x9b5951)[_0x2e180f(0xd6)]();}exports[a64_0x336685(0xe2)]=sha256;function md5(_0x5e6dd1){const _0x50aa14=a64_0x336685;return(0x0,crypto_1[_0x50aa14(0xc0)])(_0x50aa14(0xc7))[_0x50aa14(0xbb)](_0x5e6dd1)['digest']();}exports[a64_0x336685(0xc7)]=md5;function hkdf(_0x45ca50,_0x3ed27e,_0x5a1534){const _0x5cb983=a64_0x336685;return(0x0,futoin_hkdf_1[_0x5cb983(0xbf)])(!Buffer['isBuffer'](_0x45ca50)?Buffer['from'](_0x45ca50):_0x45ca50,_0x3ed27e,_0x5a1534);}exports[a64_0x336685(0xca)]=hkdf;async function derivePairingCodeKey(_0x4992a4,_0x341658){const _0x52a1f7=a64_0x336685;return await pbkdf2Promise(_0x4992a4,_0x341658,0x2<<0x10,0x20,_0x52a1f7(0xe2));}exports['derivePairingCodeKey']=derivePairingCodeKey;