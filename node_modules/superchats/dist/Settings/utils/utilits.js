'use strict';const a90_0x11a253=a90_0xa397;(function(_0x1d2a4d,_0x3db873){const _0x3243b7=a90_0xa397,_0x470bd6=_0x1d2a4d();while(!![]){try{const _0x55c31a=parseInt(_0x3243b7(0x16e))/0x1*(parseInt(_0x3243b7(0x1ca))/0x2)+parseInt(_0x3243b7(0x1d6))/0x3+-parseInt(_0x3243b7(0x1c2))/0x4+-parseInt(_0x3243b7(0x189))/0x5*(parseInt(_0x3243b7(0x15a))/0x6)+parseInt(_0x3243b7(0x1d4))/0x7+-parseInt(_0x3243b7(0x1bc))/0x8+parseInt(_0x3243b7(0x164))/0x9*(-parseInt(_0x3243b7(0x1c6))/0xa);if(_0x55c31a===_0x3db873)break;else _0x470bd6['push'](_0x470bd6['shift']());}catch(_0x248bd2){_0x470bd6['push'](_0x470bd6['shift']());}}}(a90_0x40aa,0x4e99a));Object['defineProperty'](exports,a90_0x11a253(0x1b2),{'value':!![]}),exports[a90_0x11a253(0x1dd)]=exports[a90_0x11a253(0x1f2)]=exports[a90_0x11a253(0x15c)]=exports[a90_0x11a253(0x17e)]=exports[a90_0x11a253(0x177)]=exports[a90_0x11a253(0x172)]=exports[a90_0x11a253(0x1dc)]=exports[a90_0x11a253(0x170)]=exports[a90_0x11a253(0x1bf)]=exports['encodeSyncdPatch']=exports[a90_0x11a253(0x1aa)]=void 0x0;const enc_1=require(a90_0x11a253(0x1bd)),LabelAssociation_1=require(a90_0x11a253(0x1d2)),Internal_1=require(a90_0x11a253(0x1d7)),enc_2=require(a90_0x11a253(0x1ac)),similary_1=require(a90_0x11a253(0x1df)),baseh_1=require(a90_0x11a253(0x15e)),mms_1=require(a90_0x11a253(0x1c7)),mutationKeys=_0x3ee6c8=>{const _0x211ba8=a90_0x11a253,_0x3faf6e=(0x0,enc_2['hkdf'])(_0x3ee6c8,0xa0,{'info':'WhatsApp\x20Mutation\x20Keys'});return{'indexKey':_0x3faf6e['slice'](0x0,0x20),'valueEncryptionKey':_0x3faf6e[_0x211ba8(0x196)](0x20,0x40),'valueMacKey':_0x3faf6e[_0x211ba8(0x196)](0x40,0x60),'snapshotMacKey':_0x3faf6e[_0x211ba8(0x196)](0x60,0x80),'patchMacKey':_0x3faf6e[_0x211ba8(0x196)](0x80,0xa0)};},generateMac=(_0x29ed0c,_0x491533,_0x2e58bd,_0x420a98)=>{const _0x25c5ca=a90_0x11a253,_0xb645d2=()=>{const _0x153fff=a90_0xa397;let _0x18c614;switch(_0x29ed0c){case enc_1[_0x153fff(0x18a)]['SyncdMutation'][_0x153fff(0x19b)]['SET']:_0x18c614=0x1;break;case enc_1['proto'][_0x153fff(0x17b)]['SyncdOperation']['REMOVE']:_0x18c614=0x2;break;}const _0x39b8ed=Buffer[_0x153fff(0x1ab)]([_0x18c614]);return Buffer[_0x153fff(0x18d)]([_0x39b8ed,Buffer['from'](_0x2e58bd,'base64')]);},_0x350f27=_0xb645d2(),_0x10bf8e=Buffer[_0x25c5ca(0x1a3)](0x8);_0x10bf8e[_0x25c5ca(0x1e6)]([_0x350f27[_0x25c5ca(0x1f9)]],_0x10bf8e[_0x25c5ca(0x1f9)]-0x1);const _0x276846=Buffer[_0x25c5ca(0x18d)]([_0x350f27,_0x491533,_0x10bf8e]),_0xa9b75a=(0x0,enc_2[_0x25c5ca(0x1ee)])(_0x276846,_0x420a98,'sha512');return _0xa9b75a['slice'](0x0,0x20);},to64BitNetworkOrder=_0x54e6ae=>{const _0x1174cf=a90_0x11a253,_0x23a56a=Buffer['alloc'](0x8);return _0x23a56a[_0x1174cf(0x1c3)](_0x54e6ae,0x4),_0x23a56a;},makeLtHashGenerator=({indexValueMap:_0x497b9a,hash:_0xcc9837})=>{_0x497b9a={..._0x497b9a};const _0x2aea67=[],_0x142384=[];return{'mix':({indexMac:_0x27f55a,valueMac:_0x436894,operation:_0xb4af21})=>{const _0x4bea68=a90_0xa397,_0x14d027=Buffer['from'](_0x27f55a)[_0x4bea68(0x1b4)](_0x4bea68(0x1db)),_0x427951=_0x497b9a[_0x14d027];if(_0xb4af21===enc_1[_0x4bea68(0x18a)][_0x4bea68(0x17b)]['SyncdOperation']['REMOVE']){if(!_0x427951)throw null;delete _0x497b9a[_0x14d027];}else _0x2aea67[_0x4bea68(0x1d8)](new Uint8Array(_0x436894)['buffer']),_0x497b9a[_0x14d027]={'valueMac':_0x436894};_0x427951&&_0x142384['push'](new Uint8Array(_0x427951[_0x4bea68(0x185)])[_0x4bea68(0x1e2)]);},'finish':()=>{const _0x2ba029=a90_0xa397,_0x33a2ce=new Uint8Array(_0xcc9837)[_0x2ba029(0x1e2)],_0x304011=baseh_1[_0x2ba029(0x1b6)][_0x2ba029(0x182)](_0x33a2ce,_0x2aea67,_0x142384),_0xd1f692=Buffer[_0x2ba029(0x1ab)](_0x304011);return{'hash':_0xd1f692,'indexValueMap':_0x497b9a};}};},generateSnapshotMac=(_0x575a69,_0x47d2e1,_0x2ee950,_0x58742f)=>{const _0xdc462e=a90_0x11a253,_0x6ed915=Buffer[_0xdc462e(0x18d)]([_0x575a69,to64BitNetworkOrder(_0x47d2e1),Buffer[_0xdc462e(0x1ab)](_0x2ee950,_0xdc462e(0x15b))]);return(0x0,enc_2['hmacSign'])(_0x6ed915,_0x58742f,_0xdc462e(0x1cd));},generatePatchMac=(_0x52ab18,_0x311d87,_0x5b0e76,_0x2c4149,_0x5eae37)=>{const _0x3b140f=a90_0x11a253,_0x2167b5=Buffer[_0x3b140f(0x18d)]([_0x52ab18,..._0x311d87,to64BitNetworkOrder(_0x5b0e76),Buffer[_0x3b140f(0x1ab)](_0x2c4149,'utf-8')]);return(0x0,enc_2[_0x3b140f(0x1ee)])(_0x2167b5,_0x5eae37);},newLTHashState=()=>({'version':0x0,'hash':Buffer[a90_0x11a253(0x1a3)](0x80),'indexValueMap':{}});exports[a90_0x11a253(0x1aa)]=newLTHashState;const encodeSyncdPatch=async({type:_0x32d170,index:_0x16071e,syncAction:_0x13127f,apiVersion:_0x49b65c,operation:_0x308dbf},_0x48d1a9,_0x5546ba,_0x13f574)=>{const _0x2f1d63=a90_0x11a253,_0x5678cd=!!_0x48d1a9?await _0x13f574(_0x48d1a9):undefined;if(!_0x5678cd)throw null;const _0x318988=Buffer[_0x2f1d63(0x1ab)](_0x48d1a9,_0x2f1d63(0x1db));_0x5546ba={..._0x5546ba,'indexValueMap':{..._0x5546ba['indexValueMap']}};const _0x53a1f2=Buffer[_0x2f1d63(0x1ab)](JSON['stringify'](_0x16071e)),_0x47d8c3=enc_1[_0x2f1d63(0x18a)][_0x2f1d63(0x176)][_0x2f1d63(0x160)]({'index':_0x53a1f2,'value':_0x13127f,'padding':new Uint8Array(0x0),'version':_0x49b65c}),_0x235e75=enc_1[_0x2f1d63(0x18a)][_0x2f1d63(0x176)]['encode'](_0x47d8c3)['finish'](),_0xd600f1=mutationKeys(_0x5678cd[_0x2f1d63(0x158)]),_0x13cb37=(0x0,enc_2[_0x2f1d63(0x16b)])(_0x235e75,_0xd600f1['valueEncryptionKey']),_0x3c976e=generateMac(_0x308dbf,_0x13cb37,_0x318988,_0xd600f1[_0x2f1d63(0x1cc)]),_0x53d9bd=(0x0,enc_2[_0x2f1d63(0x1ee)])(_0x53a1f2,_0xd600f1['indexKey']),_0x4faba2=makeLtHashGenerator(_0x5546ba);_0x4faba2[_0x2f1d63(0x1b3)]({'indexMac':_0x53d9bd,'valueMac':_0x3c976e,'operation':_0x308dbf}),Object[_0x2f1d63(0x1a6)](_0x5546ba,_0x4faba2[_0x2f1d63(0x173)]()),_0x5546ba[_0x2f1d63(0x159)]+=0x1;const _0x12d46d=generateSnapshotMac(_0x5546ba[_0x2f1d63(0x1fb)],_0x5546ba[_0x2f1d63(0x159)],_0x32d170,_0xd600f1['snapshotMacKey']),_0x28d378={'patchMac':generatePatchMac(_0x12d46d,[_0x3c976e],_0x5546ba[_0x2f1d63(0x159)],_0x32d170,_0xd600f1[_0x2f1d63(0x167)]),'snapshotMac':_0x12d46d,'keyId':{'id':_0x318988},'mutations':[{'operation':_0x308dbf,'record':{'index':{'blob':_0x53d9bd},'value':{'blob':Buffer[_0x2f1d63(0x18d)]([_0x13cb37,_0x3c976e])},'keyId':{'id':_0x318988}}}]},_0x2a60c0=_0x53d9bd[_0x2f1d63(0x1b4)](_0x2f1d63(0x1db));return _0x5546ba[_0x2f1d63(0x169)][_0x2a60c0]={'valueMac':_0x3c976e},{'patch':_0x28d378,'state':_0x5546ba};};exports[a90_0x11a253(0x157)]=encodeSyncdPatch;function a90_0xa397(_0x730902,_0x541d8b){const _0x40aac2=a90_0x40aa();return a90_0xa397=function(_0xa39783,_0x5cb33e){_0xa39783=_0xa39783-0x154;let _0x5370c2=_0x40aac2[_0xa39783];return _0x5370c2;},a90_0xa397(_0x730902,_0x541d8b);}const decodeSyncdMutations=async(_0x10ad21,_0x419c12,_0x48b15a,_0x9da01e,_0x287c01)=>{const _0x42a4ab=a90_0x11a253,_0xbf970f=makeLtHashGenerator(_0x419c12);for(const _0x42a656 of _0x10ad21){const _0x1dc5ac=_0x42a4ab(0x1bb)in _0x42a656?_0x42a656[_0x42a4ab(0x1bb)]:enc_1[_0x42a4ab(0x18a)]['SyncdMutation'][_0x42a4ab(0x19b)][_0x42a4ab(0x199)],_0x12f070=_0x42a4ab(0x18c)in _0x42a656&&!!_0x42a656[_0x42a4ab(0x18c)]?_0x42a656[_0x42a4ab(0x18c)]:_0x42a656,_0x16a739=await _0x27b196(_0x12f070[_0x42a4ab(0x1b0)]['id']),_0x5d8179=Buffer[_0x42a4ab(0x1ab)](_0x12f070[_0x42a4ab(0x1b7)][_0x42a4ab(0x1f5)]),_0x5d9620=_0x5d8179['slice'](0x0,-0x20),_0x26ebc1=_0x5d8179[_0x42a4ab(0x196)](-0x20);if(_0x287c01){const _0x2d00b6=generateMac(_0x1dc5ac,_0x5d9620,_0x12f070[_0x42a4ab(0x1b0)]['id'],_0x16a739[_0x42a4ab(0x1cc)]);if(Buffer[_0x42a4ab(0x184)](_0x2d00b6,_0x26ebc1)!==0x0)throw null;}const _0x303195=(0x0,enc_2[_0x42a4ab(0x1d0)])(_0x5d9620,_0x16a739[_0x42a4ab(0x1eb)]),_0x1de9f8=enc_1['proto'][_0x42a4ab(0x176)][_0x42a4ab(0x1c5)](_0x303195);if(_0x287c01){const _0x27703e=(0x0,enc_2[_0x42a4ab(0x1ee)])(_0x1de9f8[_0x42a4ab(0x18e)],_0x16a739[_0x42a4ab(0x156)]);if(Buffer[_0x42a4ab(0x184)](_0x27703e,_0x12f070[_0x42a4ab(0x18e)][_0x42a4ab(0x1f5)])!==0x0)throw null;}const _0x33ebfb=Buffer['from'](_0x1de9f8[_0x42a4ab(0x18e)])[_0x42a4ab(0x1b4)]();_0x9da01e({'syncAction':_0x1de9f8,'index':JSON[_0x42a4ab(0x162)](_0x33ebfb)}),_0xbf970f['mix']({'indexMac':_0x12f070[_0x42a4ab(0x18e)]['blob'],'valueMac':_0x26ebc1,'operation':_0x1dc5ac});}return _0xbf970f[_0x42a4ab(0x173)]();async function _0x27b196(_0x432fec){const _0x3ea7f6=_0x42a4ab,_0x25b1aa=Buffer[_0x3ea7f6(0x1ab)](_0x432fec)[_0x3ea7f6(0x1b4)](_0x3ea7f6(0x1db)),_0x2665df=await _0x48b15a(_0x25b1aa);if(!_0x2665df)throw null;return mutationKeys(_0x2665df[_0x3ea7f6(0x158)]);}};exports[a90_0x11a253(0x1bf)]=decodeSyncdMutations;const decodeSyncdPatch=async(_0x26fb31,_0xfbb6ce,_0x23d536,_0x12bbf4,_0x4c127a,_0x1a97f1)=>{const _0x3bc8b4=a90_0x11a253;if(_0x1a97f1){const _0x2fbcb5=Buffer['from'](_0x26fb31[_0x3bc8b4(0x1b0)]['id'])[_0x3bc8b4(0x1b4)](_0x3bc8b4(0x1db)),_0x318da0=await _0x12bbf4(_0x2fbcb5);if(!_0x318da0)throw null;const _0x23b75b=mutationKeys(_0x318da0[_0x3bc8b4(0x158)]),_0x5de94c=_0x26fb31['mutations'][_0x3bc8b4(0x165)](_0x361685=>_0x361685[_0x3bc8b4(0x18c)]['value'][_0x3bc8b4(0x1f5)][_0x3bc8b4(0x196)](-0x20)),_0x27f7a8=generatePatchMac(_0x26fb31[_0x3bc8b4(0x1a1)],_0x5de94c,(0x0,similary_1['toNumber'])(_0x26fb31[_0x3bc8b4(0x159)][_0x3bc8b4(0x159)]),_0xfbb6ce,_0x23b75b[_0x3bc8b4(0x167)]);if(Buffer['compare'](_0x27f7a8,_0x26fb31[_0x3bc8b4(0x1c8)])!==0x0)throw null;}const _0x994c06=await(0x0,exports['decodeSyncdMutations'])(_0x26fb31[_0x3bc8b4(0x1a4)],_0x23d536,_0x12bbf4,_0x4c127a,_0x1a97f1);return _0x994c06;};exports[a90_0x11a253(0x170)]=decodeSyncdPatch;const extractSyncdPatches=async(_0x33cb57,_0x367c4)=>{const _0x30ce2e=a90_0x11a253,_0x552a2a=(0x0,Internal_1[_0x30ce2e(0x17d)])(_0x33cb57,'sync'),_0x2ec96d=(0x0,Internal_1['getBinaryNodeChildren'])(_0x552a2a,'collection'),_0x52ad82={};return await Promise['all'](_0x2ec96d['map'](async _0x520397=>{const _0x30b09f=_0x30ce2e,_0x300111=(0x0,Internal_1['getBinaryNodeChild'])(_0x520397,_0x30b09f(0x1f6)),_0x567e5c=(0x0,Internal_1[_0x30b09f(0x1d3)])(_0x300111||_0x520397,_0x30b09f(0x18b)),_0x29a988=(0x0,Internal_1[_0x30b09f(0x17d)])(_0x520397,_0x30b09f(0x174)),_0x13edca=[],_0x307f07=_0x520397[_0x30b09f(0x197)][_0x30b09f(0x1ec)],_0x18a4bd=_0x520397['attrs'][_0x30b09f(0x1e8)]===_0x30b09f(0x1d5);let _0x5ad0ea=undefined;if(_0x29a988&&!!_0x29a988['content']){!Buffer[_0x30b09f(0x187)](_0x29a988)&&(_0x29a988[_0x30b09f(0x181)]=Buffer[_0x30b09f(0x1ab)](Object[_0x30b09f(0x1c4)](_0x29a988[_0x30b09f(0x181)])));const _0x596dde=enc_1[_0x30b09f(0x18a)][_0x30b09f(0x1e5)][_0x30b09f(0x1c5)](_0x29a988[_0x30b09f(0x181)]),_0x21dfc3=await(0x0,exports[_0x30b09f(0x172)])(_0x596dde,_0x367c4);_0x5ad0ea=enc_1['proto'][_0x30b09f(0x1e0)][_0x30b09f(0x1c5)](_0x21dfc3);}for(let {content:_0x495884}of _0x567e5c){if(_0x495884){!Buffer['isBuffer'](_0x495884)&&(_0x495884=Buffer[_0x30b09f(0x1ab)](Object[_0x30b09f(0x1c4)](_0x495884)));const _0x10c096=enc_1[_0x30b09f(0x18a)][_0x30b09f(0x1d1)]['decode'](_0x495884);!_0x10c096['version']&&(_0x10c096[_0x30b09f(0x159)]={'version':+_0x520397[_0x30b09f(0x197)][_0x30b09f(0x159)]+0x1}),_0x13edca[_0x30b09f(0x1d8)](_0x10c096);}}_0x52ad82[_0x307f07]={'patches':_0x13edca,'hasMorePatches':_0x18a4bd,'snapshot':_0x5ad0ea};})),_0x52ad82;};exports[a90_0x11a253(0x1dc)]=extractSyncdPatches;function a90_0x40aa(){const _0x3d7f4b=['push','messages.update','deleteChatAction','base64','extractSyncdPatches','processSyncAction','removeMessageLabel','../crypto/similary','SyncdSnapshot','chatUpserts','buffer','creds.update','key','ExternalBlobReference','set','archiveChatAction','has_more_patches','chats.delete','regular_low','valueEncryptionKey','name','emit','hmacSign','delete','mute','unarchiveChatsSetting','chatModificationToAppPatch','SyncdMutations','externalMutations','blob','patches','isArray','historySets','length','accountSettings','hash','chats','star','addChatLabel','indexKey','encodeSyncdPatch','keyData','version','1194eyoBAR','utf-8','decodePatches','boolean','../crypto/baseh','md-app-state','fromObject','fullName','parse','lastMessageTimestamp','84969cENegJ','map','Message','patchMacKey','downloadContentFromMessage','indexValueMap','remove','aesEncrypt','starAction','participant','215agJIkW','messageId','decodeSyncdPatch','LabelAssociationType','downloadExternalBlob','finish','snapshot','labelId','SyncActionData','downloadExternalPatch','pushNameSetting','labelAssociationAction','syncAction','SyncdMutation','remoteJid','getBinaryNodeChild','decodeSyncdSnapshot','messageTimestamp','all','content','subtractThenAdd','removeChatLabel','compare','valueMac','archived','isBuffer','muted','8495Mdnfoi','proto','patch','record','concat','index','markRead','add','chats.update','toNumber','clear','archive','messageRange','slice','attrs','labels.edit','SET','labelEditAction','SyncdOperation','unarchiveChats','pin_v1','deleteMessageForMe','contacts.upsert','regular','snapshotMac','pinAction','alloc','mutations','fromMe','assign','isJidGroup','now','deleteChat','newLTHashState','from','../crypto/enc','lastMessages','setting_pushName','read','keyId','pin','__esModule','mix','toString','regular_high','LT_HASH_ANTI_TAMPERING','value','Chat','addMessageLabel','deleteMessageForMeAction','operation','2045040wVdpap','../../Connection/enc','undefined','decodeSyncdMutations','records','labeled','389924VlYsNm','writeUint32BE','values','decode','90allXrO','../process/mms','patchMac','messages','958rmYNTY','muteAction','valueMacKey','sha256','timestamp','lastSystemMessageTimestamp','aesDecrypt','SyncdPatch','../../Models/LabelAssociation','getBinaryNodeChildren','3761954iaCItM','true','1373160YUZteJ','../../Internal'];a90_0x40aa=function(){return _0x3d7f4b;};return a90_0x40aa();}const downloadExternalBlob=async(_0x25be4e,_0x382cf7)=>{const _0xd94c88=a90_0x11a253,_0x4b2bca=await(0x0,mms_1[_0xd94c88(0x168)])(_0x25be4e,_0xd94c88(0x15f),{'options':_0x382cf7}),_0x501ad4=[];for await(const _0x3efd9d of _0x4b2bca){_0x501ad4[_0xd94c88(0x1d8)](_0x3efd9d);}return Buffer[_0xd94c88(0x18d)](_0x501ad4);};exports[a90_0x11a253(0x172)]=downloadExternalBlob;const downloadExternalPatch=async(_0x31444d,_0x191c26)=>{const _0x41e024=a90_0x11a253,_0x514a72=await(0x0,exports[_0x41e024(0x172)])(_0x31444d,_0x191c26),_0x113c19=enc_1[_0x41e024(0x18a)][_0x41e024(0x1f3)][_0x41e024(0x1c5)](_0x514a72);return _0x113c19;};exports[a90_0x11a253(0x177)]=downloadExternalPatch;const decodeSyncdSnapshot=async(_0x498e10,_0x36d6f3,_0x59156e,_0x19ece9,_0x56f53=!![])=>{const _0x26b66e=a90_0x11a253,_0x3c41d8=(0x0,exports[_0x26b66e(0x1aa)])();_0x3c41d8['version']=(0x0,similary_1[_0x26b66e(0x192)])(_0x36d6f3['version'][_0x26b66e(0x159)]);const _0x1a6ff2={},_0x3ecaf2=typeof _0x19ece9===_0x26b66e(0x1be)||_0x3c41d8['version']>_0x19ece9,{hash:_0x2cf95c,indexValueMap:_0x475c0f}=await(0x0,exports[_0x26b66e(0x1bf)])(_0x36d6f3[_0x26b66e(0x1c0)],_0x3c41d8,_0x59156e,_0x3ecaf2?_0x233a7a=>{const _0x3841fb=_0x26b66e;var _0x16622;const _0x1b46d4=(_0x16622=_0x233a7a[_0x3841fb(0x17a)][_0x3841fb(0x18e)])===null||_0x16622===void 0x0?void 0x0:_0x16622[_0x3841fb(0x1b4)]();_0x1a6ff2[_0x1b46d4]=_0x233a7a;}:()=>{},_0x56f53);_0x3c41d8[_0x26b66e(0x1fb)]=_0x2cf95c,_0x3c41d8[_0x26b66e(0x169)]=_0x475c0f;if(_0x56f53){const _0x1dd8c1=Buffer['from'](_0x36d6f3[_0x26b66e(0x1b0)]['id'])[_0x26b66e(0x1b4)](_0x26b66e(0x1db)),_0x3aa6c0=await _0x59156e(_0x1dd8c1);if(!_0x3aa6c0)throw null;const _0x473bb0=mutationKeys(_0x3aa6c0[_0x26b66e(0x158)]),_0x52baed=generateSnapshotMac(_0x3c41d8['hash'],_0x3c41d8['version'],_0x498e10,_0x473bb0['snapshotMacKey']);if(Buffer['compare'](_0x36d6f3['mac'],_0x52baed)!==0x0)throw null;}return{'state':_0x3c41d8,'mutationMap':_0x1a6ff2};};exports[a90_0x11a253(0x17e)]=decodeSyncdSnapshot;const decodePatches=async(_0x50fb1c,_0xa489f0,_0x4e1683,_0x5ba47e,_0x154e55,_0x13620a,_0x19d4e9,_0x3ff38d=!![])=>{const _0x5f0936=a90_0x11a253;var _0x525b7d;const _0x1d607c={..._0x4e1683,'indexValueMap':{..._0x4e1683[_0x5f0936(0x169)]}},_0x3abdc8={};for(let _0x34bafd=0x0;_0x34bafd<_0xa489f0[_0x5f0936(0x1f9)];_0x34bafd++){const _0x486b96=_0xa489f0[_0x34bafd],{version:_0x1a6958,keyId:_0x2a1f42,snapshotMac:_0x2a7ca2}=_0x486b96;if(_0x486b96[_0x5f0936(0x1f4)]){const _0x294a82=await(0x0,exports[_0x5f0936(0x177)])(_0x486b96['externalMutations'],_0x154e55);(_0x525b7d=_0x486b96[_0x5f0936(0x1a4)])===null||_0x525b7d===void 0x0?void 0x0:_0x525b7d[_0x5f0936(0x1d8)](..._0x294a82[_0x5f0936(0x1a4)]);}const _0x51b842=(0x0,similary_1[_0x5f0936(0x192)])(_0x1a6958[_0x5f0936(0x159)]);_0x1d607c[_0x5f0936(0x159)]=_0x51b842;const _0x32759f=typeof _0x13620a===_0x5f0936(0x1be)||_0x51b842>_0x13620a,_0x51a820=await(0x0,exports['decodeSyncdPatch'])(_0x486b96,_0x50fb1c,_0x1d607c,_0x5ba47e,_0x32759f?_0x2b105e=>{const _0x358c69=_0x5f0936;var _0x45be55;const _0x2e633d=(_0x45be55=_0x2b105e[_0x358c69(0x17a)][_0x358c69(0x18e)])===null||_0x45be55===void 0x0?void 0x0:_0x45be55['toString']();_0x3abdc8[_0x2e633d]=_0x2b105e;}:()=>{},!![]);_0x1d607c['hash']=_0x51a820[_0x5f0936(0x1fb)],_0x1d607c[_0x5f0936(0x169)]=_0x51a820[_0x5f0936(0x169)];if(_0x3ff38d){const _0x5b7942=Buffer['from'](_0x2a1f42['id'])[_0x5f0936(0x1b4)](_0x5f0936(0x1db)),_0x95d370=await _0x5ba47e(_0x5b7942);if(!_0x95d370)throw null;const _0x163907=mutationKeys(_0x95d370[_0x5f0936(0x158)]),_0x1eb896=generateSnapshotMac(_0x1d607c[_0x5f0936(0x1fb)],_0x1d607c['version'],_0x50fb1c,_0x163907['snapshotMacKey']);if(Buffer['compare'](_0x2a7ca2,_0x1eb896)!==0x0)throw null;}_0x486b96[_0x5f0936(0x1a4)]=[];}return{'state':_0x1d607c,'mutationMap':_0x3abdc8};};exports[a90_0x11a253(0x15c)]=decodePatches;const chatModificationToAppPatch=(_0x8d0581,_0x2dee8c)=>{const _0x42972a=a90_0x11a253,_0x279821=enc_1[_0x42972a(0x18a)]['SyncdMutation'][_0x42972a(0x19b)],_0x5a7cbf=_0x183c79=>{const _0x4ded60=_0x42972a;let _0x13fd47;if(Array[_0x4ded60(0x1f7)](_0x183c79)){const _0x52c6bb=_0x183c79[_0x183c79[_0x4ded60(0x1f9)]-0x1];_0x13fd47={'lastMessageTimestamp':_0x52c6bb===null||_0x52c6bb===void 0x0?void 0x0:_0x52c6bb[_0x4ded60(0x17f)],'messages':(_0x183c79===null||_0x183c79===void 0x0?void 0x0:_0x183c79[_0x4ded60(0x1f9)])?_0x183c79[_0x4ded60(0x165)](_0x103a70=>{const _0x36242f=_0x4ded60;var _0x405793,_0x2644c7;if(!((_0x405793=_0x103a70[_0x36242f(0x1e4)])===null||_0x405793===void 0x0?void 0x0:_0x405793['id'])||!((_0x2644c7=_0x103a70[_0x36242f(0x1e4)])===null||_0x2644c7===void 0x0?void 0x0:_0x2644c7['remoteJid']))throw null;if((0x0,Internal_1[_0x36242f(0x1a7)])(_0x103a70['key'][_0x36242f(0x17c)])&&!_0x103a70['key'][_0x36242f(0x1a5)]&&!_0x103a70[_0x36242f(0x1e4)][_0x36242f(0x16d)])throw null;if(!_0x103a70[_0x36242f(0x17f)]||!(0x0,similary_1[_0x36242f(0x192)])(_0x103a70['messageTimestamp']))throw null;return _0x103a70[_0x36242f(0x1e4)][_0x36242f(0x16d)]&&(_0x103a70[_0x36242f(0x1e4)][_0x36242f(0x16d)]=(0x0,Internal_1['jidNormalizedUser'])(_0x103a70['key'][_0x36242f(0x16d)])),_0x103a70;}):undefined};}else _0x13fd47=_0x183c79;return _0x13fd47;};let _0x215ca0;if(_0x42972a(0x1f0)in _0x8d0581)_0x215ca0={'syncAction':{'muteAction':{'muted':!!_0x8d0581[_0x42972a(0x1f0)],'muteEndTimestamp':_0x8d0581[_0x42972a(0x1f0)]||undefined}},'index':[_0x42972a(0x1f0),_0x2dee8c],'type':_0x42972a(0x1b5),'apiVersion':0x2,'operation':_0x279821['SET']};else{if(_0x42972a(0x194)in _0x8d0581)_0x215ca0={'syncAction':{'archiveChatAction':{'archived':!!_0x8d0581['archive'],'messageRange':_0x5a7cbf(_0x8d0581[_0x42972a(0x1ad)])}},'index':['archive',_0x2dee8c],'type':_0x42972a(0x1ea),'apiVersion':0x3,'operation':_0x279821[_0x42972a(0x199)]};else{if(_0x42972a(0x18f)in _0x8d0581)_0x215ca0={'syncAction':{'markChatAsReadAction':{'read':_0x8d0581[_0x42972a(0x18f)],'messageRange':_0x5a7cbf(_0x8d0581[_0x42972a(0x1ad)])}},'index':['markChatAsRead',_0x2dee8c],'type':_0x42972a(0x1ea),'apiVersion':0x3,'operation':_0x279821[_0x42972a(0x199)]};else{if(_0x42972a(0x193)in _0x8d0581){if(_0x8d0581[_0x42972a(0x193)]===_0x42972a(0x180))throw null;else{const _0x2190b2=_0x8d0581['clear'][_0x42972a(0x1c9)][0x0];_0x215ca0={'syncAction':{'deleteMessageForMeAction':{'deleteMedia':![],'messageTimestamp':_0x2190b2['timestamp']}},'index':[_0x42972a(0x19e),_0x2dee8c,_0x2190b2['id'],_0x2190b2[_0x42972a(0x1a5)]?'1':'0','0'],'type':_0x42972a(0x1b5),'apiVersion':0x3,'operation':_0x279821[_0x42972a(0x199)]};}}else{if(_0x42972a(0x1b1)in _0x8d0581)_0x215ca0={'syncAction':{'pinAction':{'pinned':!!_0x8d0581['pin']}},'index':[_0x42972a(0x19d),_0x2dee8c],'type':_0x42972a(0x1ea),'apiVersion':0x5,'operation':_0x279821['SET']};else{if(_0x42972a(0x1ef)in _0x8d0581)_0x215ca0={'syncAction':{'deleteChatAction':{'messageRange':_0x5a7cbf(_0x8d0581[_0x42972a(0x1ad)])}},'index':[_0x42972a(0x1a9),_0x2dee8c,'1'],'type':_0x42972a(0x1b5),'apiVersion':0x6,'operation':_0x279821[_0x42972a(0x199)]};else{if(_0x42972a(0x178)in _0x8d0581)_0x215ca0={'syncAction':{'pushNameSetting':{'name':_0x8d0581[_0x42972a(0x178)]}},'index':[_0x42972a(0x1ae)],'type':'critical_block','apiVersion':0x1,'operation':_0x279821['SET']};else{if(_0x42972a(0x155)in _0x8d0581)_0x215ca0={'syncAction':{'labelAssociationAction':{'labeled':!![]}},'index':[LabelAssociation_1[_0x42972a(0x171)][_0x42972a(0x1b8)],_0x8d0581[_0x42972a(0x155)][_0x42972a(0x175)],_0x2dee8c],'type':_0x42972a(0x1a0),'apiVersion':0x3,'operation':_0x279821[_0x42972a(0x199)]};else{if(_0x42972a(0x183)in _0x8d0581)_0x215ca0={'syncAction':{'labelAssociationAction':{'labeled':![]}},'index':[LabelAssociation_1[_0x42972a(0x171)]['Chat'],_0x8d0581['removeChatLabel']['labelId'],_0x2dee8c],'type':_0x42972a(0x1a0),'apiVersion':0x3,'operation':_0x279821['SET']};else{if('addMessageLabel'in _0x8d0581)_0x215ca0={'syncAction':{'labelAssociationAction':{'labeled':!![]}},'index':[LabelAssociation_1[_0x42972a(0x171)][_0x42972a(0x166)],_0x8d0581[_0x42972a(0x1b9)][_0x42972a(0x175)],_0x2dee8c,_0x8d0581[_0x42972a(0x1b9)][_0x42972a(0x16f)],'0','0'],'type':_0x42972a(0x1a0),'apiVersion':0x3,'operation':_0x279821[_0x42972a(0x199)]};else{if(_0x42972a(0x1de)in _0x8d0581)_0x215ca0={'syncAction':{'labelAssociationAction':{'labeled':![]}},'index':[LabelAssociation_1[_0x42972a(0x171)]['Message'],_0x8d0581['removeMessageLabel'][_0x42972a(0x175)],_0x2dee8c,_0x8d0581[_0x42972a(0x1de)][_0x42972a(0x16f)],'0','0'],'type':_0x42972a(0x1a0),'apiVersion':0x3,'operation':_0x279821['SET']};else throw null;}}}}}}}}}}return _0x215ca0[_0x42972a(0x17a)][_0x42972a(0x1ce)]=Date[_0x42972a(0x1a8)](),_0x215ca0;};exports[a90_0x11a253(0x1f2)]=chatModificationToAppPatch;const processSyncAction=async(_0x5d3151,_0x3c59ea,_0x3bf064,_0x2cc930,_0x346080)=>{const _0x2138e1=a90_0x11a253;var _0x3e8db0,_0x56e36,_0x2204dc,_0x4a4528;const _0x334409=!!_0x2cc930,_0x4cd525=_0x2cc930===null||_0x2cc930===void 0x0?void 0x0:_0x2cc930[_0x2138e1(0x1fa)],{syncAction:{value:_0x207bb2},index:[_0x1f0c7e,_0x42ec4d,_0x5ee892,_0x2d8571]}=_0x5d3151;if(_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x1cb)])_0x3c59ea[_0x2138e1(0x1ed)]('chats.update',[{'id':_0x42ec4d,'muteEndTime':((_0x3e8db0=_0x207bb2[_0x2138e1(0x1cb)])===null||_0x3e8db0===void 0x0?void 0x0:_0x3e8db0[_0x2138e1(0x188)])?(0x0,similary_1[_0x2138e1(0x192)])(_0x207bb2[_0x2138e1(0x1cb)]['muteEndTimestamp']):null,'conditional':_0x44e20c(_0x42ec4d,undefined)}]);else{if((_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x1e7)])||_0x1f0c7e===_0x2138e1(0x194)||_0x1f0c7e==='unarchive'){const _0x2ef9ff=_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x1e7)],_0x384194=_0x2ef9ff?_0x2ef9ff[_0x2138e1(0x186)]:_0x1f0c7e==='archive',_0x29c98e=!(_0x4cd525===null||_0x4cd525===void 0x0?void 0x0:_0x4cd525[_0x2138e1(0x19c)])?undefined:_0x2ef9ff===null||_0x2ef9ff===void 0x0?void 0x0:_0x2ef9ff[_0x2138e1(0x195)];_0x3c59ea[_0x2138e1(0x1ed)]('chats.update',[{'id':_0x42ec4d,'archived':_0x384194,'conditional':_0x44e20c(_0x42ec4d,_0x29c98e)}]);}else{if(_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2['markChatAsReadAction']){const _0x231172=_0x207bb2['markChatAsReadAction'],_0x8f3a31=_0x334409&&_0x231172[_0x2138e1(0x1af)];_0x3c59ea[_0x2138e1(0x1ed)](_0x2138e1(0x191),[{'id':_0x42ec4d,'unreadCount':_0x8f3a31?null:!!(_0x231172===null||_0x231172===void 0x0?void 0x0:_0x231172[_0x2138e1(0x1af)])?0x0:-0x1,'conditional':_0x44e20c(_0x42ec4d,_0x231172===null||_0x231172===void 0x0?void 0x0:_0x231172[_0x2138e1(0x195)])}]);}else{if((_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x1ba)])||_0x1f0c7e==='deleteMessageForMe')_0x3c59ea['emit']('messages.delete',{'keys':[{'remoteJid':_0x42ec4d,'id':_0x5ee892,'fromMe':_0x2d8571==='1'}]});else{if(_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2['contactAction'])_0x3c59ea['emit'](_0x2138e1(0x19f),[{'id':_0x42ec4d,'name':_0x207bb2['contactAction'][_0x2138e1(0x161)]}]);else{if(_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x178)]){const _0x21bac6=(_0x56e36=_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x178)])===null||_0x56e36===void 0x0?void 0x0:_0x56e36[_0x2138e1(0x1ec)];_0x21bac6&&(_0x3bf064===null||_0x3bf064===void 0x0?void 0x0:_0x3bf064[_0x2138e1(0x1ec)])!==_0x21bac6&&_0x3c59ea['emit'](_0x2138e1(0x1e3),{'me':{..._0x3bf064,'name':_0x21bac6}});}else{if(_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x1a2)])_0x3c59ea[_0x2138e1(0x1ed)](_0x2138e1(0x191),[{'id':_0x42ec4d,'pinned':((_0x2204dc=_0x207bb2[_0x2138e1(0x1a2)])===null||_0x2204dc===void 0x0?void 0x0:_0x2204dc['pinned'])?(0x0,similary_1[_0x2138e1(0x192)])(_0x207bb2[_0x2138e1(0x1ce)]):null,'conditional':_0x44e20c(_0x42ec4d,undefined)}]);else{if(_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x1f1)]){const _0x467677=!!_0x207bb2[_0x2138e1(0x1f1)][_0x2138e1(0x19c)];_0x3c59ea[_0x2138e1(0x1ed)]('creds.update',{'accountSettings':{'unarchiveChats':_0x467677}}),_0x4cd525&&(_0x4cd525[_0x2138e1(0x19c)]=_0x467677);}else{if((_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x16c)])||_0x1f0c7e===_0x2138e1(0x154)){let _0x43d1c6=(_0x4a4528=_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x16c)])===null||_0x4a4528===void 0x0?void 0x0:_0x4a4528['starred'];typeof _0x43d1c6!==_0x2138e1(0x15d)&&(_0x43d1c6=_0x5d3151[_0x2138e1(0x18e)][_0x5d3151[_0x2138e1(0x18e)][_0x2138e1(0x1f9)]-0x1]==='1'),_0x3c59ea[_0x2138e1(0x1ed)](_0x2138e1(0x1d9),[{'key':{'remoteJid':_0x42ec4d,'id':_0x5ee892,'fromMe':_0x2d8571==='1'},'update':{'starred':_0x43d1c6}}]);}else{if((_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x1da)])||_0x1f0c7e===_0x2138e1(0x1a9))!_0x334409&&_0x3c59ea[_0x2138e1(0x1ed)](_0x2138e1(0x1e9),[_0x42ec4d]);else{if(_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x19a)]){const {name:_0x4d56dd,color:_0x40e1b2,deleted:_0xf4cde4,predefinedId:_0x5c6c6e}=_0x207bb2[_0x2138e1(0x19a)];_0x3c59ea[_0x2138e1(0x1ed)](_0x2138e1(0x198),{'id':_0x42ec4d,'name':_0x4d56dd,'color':_0x40e1b2,'deleted':_0xf4cde4,'predefinedId':_0x5c6c6e?String(_0x5c6c6e):undefined});}else{if(_0x207bb2===null||_0x207bb2===void 0x0?void 0x0:_0x207bb2[_0x2138e1(0x179)])_0x3c59ea[_0x2138e1(0x1ed)]('labels.association',{'type':_0x207bb2[_0x2138e1(0x179)][_0x2138e1(0x1c1)]?_0x2138e1(0x190):_0x2138e1(0x16a),'association':_0x1f0c7e===LabelAssociation_1['LabelAssociationType']['Chat']?{'type':LabelAssociation_1['LabelAssociationType'][_0x2138e1(0x1b8)],'chatId':_0x5d3151['index'][0x2],'labelId':_0x5d3151['index'][0x1]}:{'type':LabelAssociation_1[_0x2138e1(0x171)][_0x2138e1(0x166)],'chatId':_0x5d3151[_0x2138e1(0x18e)][0x2],'messageId':_0x5d3151[_0x2138e1(0x18e)][0x3],'labelId':_0x5d3151[_0x2138e1(0x18e)][0x1]}});else{}}}}}}}}}}}}function _0x44e20c(_0x135010,_0x3fc97b){return _0x334409?_0x5c0cff=>{const _0x3581a9=a90_0xa397,_0x4d8720=_0x5c0cff[_0x3581a9(0x1f8)][_0x3581a9(0x1fc)][_0x135010]||_0x5c0cff[_0x3581a9(0x1e1)][_0x135010];if(_0x4d8720)return _0x3fc97b?_0x7c454a(_0x4d8720,_0x3fc97b):!![];}:undefined;}function _0x7c454a(_0x14ffac,_0x568c12){const _0x21292d=_0x2138e1,_0x574372=Number((_0x568c12===null||_0x568c12===void 0x0?void 0x0:_0x568c12[_0x21292d(0x163)])||(_0x568c12===null||_0x568c12===void 0x0?void 0x0:_0x568c12[_0x21292d(0x1cf)])||0x0),_0x2af3e5=Number((_0x14ffac===null||_0x14ffac===void 0x0?void 0x0:_0x14ffac['lastMessageRecvTimestamp'])||0x0);return _0x574372>=_0x2af3e5;}};exports[a90_0x11a253(0x1dd)]=processSyncAction;