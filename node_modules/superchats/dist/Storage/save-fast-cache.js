'use strict';const a95_0x43e1ec=a95_0x2469;(function(_0x4ba459,_0x46afc0){const _0x311ae8=a95_0x2469,_0x5eb170=_0x4ba459();while(!![]){try{const _0x4c4191=-parseInt(_0x311ae8(0x102))/0x1+parseInt(_0x311ae8(0xea))/0x2*(parseInt(_0x311ae8(0xf1))/0x3)+-parseInt(_0x311ae8(0x105))/0x4+parseInt(_0x311ae8(0x11c))/0x5*(-parseInt(_0x311ae8(0xe4))/0x6)+-parseInt(_0x311ae8(0xe2))/0x7*(-parseInt(_0x311ae8(0x108))/0x8)+parseInt(_0x311ae8(0x110))/0x9+parseInt(_0x311ae8(0xec))/0xa;if(_0x4c4191===_0x46afc0)break;else _0x5eb170['push'](_0x5eb170['shift']());}catch(_0x115be0){_0x5eb170['push'](_0x5eb170['shift']());}}}(a95_0x3f43,0xd26ff));function a95_0x2469(_0x39af8e,_0x48fcda){const _0x3f4386=a95_0x3f43();return a95_0x2469=function(_0x246987,_0x216cd3){_0x246987=_0x246987-0xe0;let _0x4964e4=_0x3f4386[_0x246987];return _0x4964e4;},a95_0x2469(_0x39af8e,_0x48fcda);}var __importDefault=this&&this['__importDefault']||function(_0x254097){const _0x46eaa7=a95_0x2469;return _0x254097&&_0x254097[_0x46eaa7(0xf2)]?_0x254097:{'default':_0x254097};};Object[a95_0x43e1ec(0xe3)](exports,a95_0x43e1ec(0xf2),{'value':!![]});const sleep_promise_1=__importDefault(require(a95_0x43e1ec(0xf3))),super_bionic_1=__importDefault(require(a95_0x43e1ec(0x119))),db_1=require(a95_0x43e1ec(0xe8)),mode_1=require(a95_0x43e1ec(0x114)),rabbitMQ_1=require(a95_0x43e1ec(0x10d));exports[a95_0x43e1ec(0x106)]=(_0x45dcbf,_0x112074,_0x3332fc)=>{const _0x161113=a95_0x43e1ec,_0x290a4f=mode_1[_0x161113(0x117)][_0x161113(0xf6)]==_0x161113(0x10c)?(0x0,db_1[_0x161113(0xfb)])(_0x45dcbf):undefined,{produce:_0x20adbc,consume:_0x1bd667}=mode_1['optionsDefault']['driveStorage']==_0x161113(0x10c)?(0x0,rabbitMQ_1[_0x161113(0x11e)])(_0x45dcbf,_0x3332fc):[undefined,undefined],_0x30ef9e=new super_bionic_1['default'](_0x45dcbf,_0x112074),_0x494f2d=async(_0x224bf0,_0x382ea0)=>{return new Promise(async _0x4044df=>{const _0x2a2256=a95_0x2469;if(mode_1[_0x2a2256(0x117)][_0x2a2256(0xf6)]==_0x2a2256(0x10c)){let _0xc504f={'session':_0x45dcbf,'name':_0x224bf0,'el':_0x382ea0};_0x4044df(await _0x20adbc('messages',_0xc504f));}else _0x4044df(_0x30ef9e[_0x2a2256(0xe7)](_0x224bf0,_0x382ea0));});},_0x3ea704=async(_0x331bda,_0x111ccf)=>{return new Promise(async _0x2304df=>{const _0x3fcc54=a95_0x2469;if(mode_1[_0x3fcc54(0x117)]['driveStorage']==_0x3fcc54(0x10c)){let _0x5a2f33={'session':_0x45dcbf,'name':_0x331bda,'el':_0x111ccf};_0x2304df(await _0x20adbc('chats',_0x5a2f33));}else _0x2304df(_0x30ef9e[_0x3fcc54(0xe7)](_0x331bda,_0x111ccf));});},_0x1a786f=async(_0x44579d,_0x1bc0bf)=>{return new Promise(async _0x5cdae3=>{const _0x33f715=a95_0x2469;if(mode_1[_0x33f715(0x117)][_0x33f715(0xf6)]==_0x33f715(0x10c)){let _0x54c861={'session':_0x45dcbf,'name':_0x44579d,'el':_0x1bc0bf};_0x5cdae3(await _0x20adbc(_0x33f715(0x107),_0x54c861));}else _0x5cdae3(_0x30ef9e['create'](_0x44579d,_0x1bc0bf));});},_0x4d729e=async(_0x3f3e3a,_0xec0896)=>{return new Promise(async _0x5792e1=>{const _0xe0402f=a95_0x2469;if(mode_1[_0xe0402f(0x117)][_0xe0402f(0xf6)]==_0xe0402f(0x10c)){let _0x55441b={'session':_0x45dcbf,'name':_0x3f3e3a,'el':_0xec0896};_0x5792e1(await _0x20adbc(_0xe0402f(0x101),_0x55441b));}else _0x5792e1(_0x30ef9e['create'](_0x3f3e3a,_0xec0896));});},_0x155691=async(_0x4a4cdb,_0x210165,_0x2458c4)=>{return new Promise(async _0x11a5d2=>{const _0x4bf146=a95_0x2469;if(mode_1[_0x4bf146(0x117)][_0x4bf146(0xf6)]=='mongo'){const _0x5267d6=_0x290a4f,_0x5836ae=_0x5267d6===null||_0x5267d6===void 0x0?void 0x0:_0x5267d6['collection'](_0x4a4cdb);_0x11a5d2(await(_0x5836ae===null||_0x5836ae===void 0x0?void 0x0:_0x5836ae[_0x4bf146(0xf7)](_0x210165,_0x2458c4)));}else _0x11a5d2(_0x30ef9e[_0x4bf146(0xf4)](_0x4a4cdb,_0x210165,_0x2458c4));});},_0x31100a=async(_0x42581d,_0xff0e3b)=>{return new Promise(async _0x466914=>{const _0x1d2cdd=a95_0x2469;if(mode_1[_0x1d2cdd(0x117)][_0x1d2cdd(0xf6)]==_0x1d2cdd(0x10c)){const _0x4092ba=_0x290a4f,_0x38f319=_0x4092ba===null||_0x4092ba===void 0x0?void 0x0:_0x4092ba[_0x1d2cdd(0x10b)](_0x42581d);_0x466914(await(_0x38f319===null||_0x38f319===void 0x0?void 0x0:_0x38f319[_0x1d2cdd(0x104)](_0xff0e3b)));}else _0x466914(_0x30ef9e[_0x1d2cdd(0xe1)](_0x42581d,_0xff0e3b));});},_0x13afe4=async(_0x29a1ae,_0x59f760)=>{return new Promise(async _0xc338e3=>{const _0x26d63f=a95_0x2469;if(mode_1[_0x26d63f(0x117)][_0x26d63f(0xf6)]==_0x26d63f(0x10c)){const _0x4a44b4=_0x290a4f,_0x46badf=_0x4a44b4===null||_0x4a44b4===void 0x0?void 0x0:_0x4a44b4['collection'](_0x29a1ae);_0xc338e3(await(_0x46badf===null||_0x46badf===void 0x0?void 0x0:_0x46badf[_0x26d63f(0xf8)](_0x59f760)[_0x26d63f(0x111)]()));}else _0xc338e3(_0x30ef9e['find'](_0x29a1ae,_0x59f760));});},_0x1cd175=async(_0xa3ba04,_0x52388d)=>{return new Promise(async _0x5c50d5=>{const _0x4057e8=a95_0x2469;if(mode_1[_0x4057e8(0x117)][_0x4057e8(0xf6)]==_0x4057e8(0x10c)){const _0x2674b3=_0x290a4f,_0x4186d5=_0x2674b3===null||_0x2674b3===void 0x0?void 0x0:_0x2674b3[_0x4057e8(0x10b)](_0xa3ba04);_0x5c50d5(await(_0x4186d5===null||_0x4186d5===void 0x0?void 0x0:_0x4186d5['findOne'](_0x52388d)));}else _0x5c50d5(_0x30ef9e[_0x4057e8(0x109)](_0xa3ba04,_0x52388d));});},_0x2c2953=(_0x185d65,_0x4fc7ae,_0x23058e,_0x271f58)=>{const _0x192fcb=_0x161113;!(_0x4fc7ae===null||_0x4fc7ae===void 0x0?void 0x0:_0x4fc7ae[_0x192fcb(0x103)])&&(_0x185d65['on'](_0x192fcb(0xe5),async _0x124b78=>{const _0x32309d=_0x192fcb,{chats:_0x12bfc7,contacts:_0x1a98dc,messages:_0x548e20,isLatest:_0x23c2b8}=_0x124b78;!(_0x4fc7ae===null||_0x4fc7ae===void 0x0?void 0x0:_0x4fc7ae['nodata'])&&_0x124b78['messages'][_0x32309d(0x113)](async _0x1bae08=>{const _0x479bfc=_0x32309d;let _0x5e9501=await _0x1cd175(_0x479bfc(0xf0),mode_1[_0x479bfc(0x117)]['driveStorage']==_0x479bfc(0x10c)?{'key.id':_0x1bae08['key']['id']}:_0x54d253=>_0x54d253[_0x479bfc(0x115)]['id']==_0x1bae08[_0x479bfc(0x115)]['id']),_0x5d6796=mode_1[_0x479bfc(0x117)][_0x479bfc(0xf6)]==_0x479bfc(0x10c)?!_0x5e9501:_0x5e9501['length']==0x0;_0x5d6796&&await _0x494f2d('messages',_0x1bae08);}),_0x1a98dc['forEach'](async(_0x12f91c,_0x43c3cd)=>{const _0x4b4054=_0x32309d;if(_0x12f91c){let _0x368d83=await _0x1cd175(_0x4b4054(0x107),mode_1[_0x4b4054(0x117)][_0x4b4054(0xf6)]==_0x4b4054(0x10c)?{'id':_0x12f91c['id']}:_0x5e8640=>_0x5e8640['id']==_0x12f91c['id']),_0x41b625=mode_1['optionsDefault'][_0x4b4054(0xf6)]==_0x4b4054(0x10c)?!_0x368d83:_0x368d83[_0x4b4054(0xfc)]==0x0;_0x41b625&&await _0x1a786f(_0x4b4054(0x107),_0x12f91c);}}),_0x12bfc7[_0x32309d(0x113)](async _0x28194b=>{const _0x295c07=_0x32309d;if(_0x28194b['id'][_0x295c07(0xfd)]('@')[0x1]!=_0x295c07(0xfe)&&_0x28194b['id'][_0x295c07(0xfd)]('@')[0x1]!=_0x295c07(0x116)){let _0x2cb671=await _0x1cd175(_0x295c07(0x11b),mode_1[_0x295c07(0x117)]['driveStorage']==_0x295c07(0x10c)?{'id':_0x28194b['id']}:_0x586f03=>_0x586f03['id']==_0x28194b['id']),_0x101c96=mode_1['optionsDefault'][_0x295c07(0xf6)]==_0x295c07(0x10c)?!_0x2cb671:_0x2cb671[_0x295c07(0xfc)]==0x0;_0x101c96&&await _0x3ea704(_0x295c07(0x11b),_0x28194b);}});}),_0x185d65['on']('messages.upsert',async _0x28086b=>{const _0x3fb361=_0x192fcb;_0x28086b['messages'][_0x3fb361(0x113)](async _0x39c3c1=>{const _0x4e22c8=_0x3fb361;_0x28086b[_0x4e22c8(0xee)]===_0x4e22c8(0xff)&&(_0x4fc7ae===null||_0x4fc7ae===void 0x0?void 0x0:_0x4fc7ae['autoRead'])&&await _0x23058e[_0x4e22c8(0x11a)]([_0x39c3c1['key']]);if(!_0x39c3c1[_0x4e22c8(0xf9)]){let _0xa9e4e8=await _0x1cd175(_0x4e22c8(0xf0),mode_1[_0x4e22c8(0x117)][_0x4e22c8(0xf6)]=='mongo'?{'key.id':_0x39c3c1[_0x4e22c8(0x115)]['id']}:_0x953e58=>_0x953e58['key']['id']==_0x39c3c1[_0x4e22c8(0x115)]['id']),_0x5376cf=mode_1[_0x4e22c8(0x117)]['driveStorage']=='mongo'?!_0xa9e4e8:_0xa9e4e8[_0x4e22c8(0xfc)]==0x0;_0x5376cf&&await _0x494f2d(_0x4e22c8(0xf0),_0x39c3c1);}});}),_0x185d65['on'](_0x192fcb(0xe9),async _0x30ab3f=>{const _0x36913a=_0x192fcb;let _0x565cd2=await _0x1cd175(_0x36913a(0x11b),mode_1[_0x36913a(0x117)][_0x36913a(0xf6)]=='mongo'?{'id':_0x30ab3f[0x0]['id']}:_0x458b9e=>_0x458b9e['id']==_0x30ab3f[0x0]['id']),_0x1cc1b0=mode_1[_0x36913a(0x117)][_0x36913a(0xf6)]=='mongo'?!_0x565cd2:_0x565cd2[_0x36913a(0xfc)]==0x0;_0x1cc1b0&&await _0x3ea704('chats',_0x30ab3f[0x0]);}),_0x185d65['on']('contacts.upsert',async _0x3aaf4c=>{const _0x2c1e45=_0x192fcb;_0x3aaf4c[_0x2c1e45(0x113)](async(_0x249f6a,_0x5ea453)=>{const _0x372165=_0x2c1e45;_0x249f6a&&console[_0x372165(0x10a)](_0x249f6a);});}),_0x185d65['on'](_0x192fcb(0x118),async _0x5496fd=>{const _0x16c968=_0x192fcb;let _0x3bc895=await _0x1cd175(_0x16c968(0x101),mode_1[_0x16c968(0x117)]['driveStorage']=='mongo'?{'id':_0x5496fd['id']}:_0x1a2448=>_0x1a2448['id']==_0x5496fd['id']);if(_0x5496fd[_0x16c968(0xf5)])await _0x31100a(_0x16c968(0x101),{'id':String(_0x5496fd['id'])});else{let _0xd74ff6=mode_1[_0x16c968(0x117)][_0x16c968(0xf6)]==_0x16c968(0x10c)?!_0x3bc895:_0x3bc895['length']==0x0;_0xd74ff6?await _0x4d729e('labels',_0x5496fd):await _0x155691(_0x16c968(0x101),{'id':_0x5496fd['id']},_0x5496fd);}}),_0x185d65['on'](_0x192fcb(0xe6),async({type:_0x29cced,association:_0x35d043})=>{const _0xc07597=_0x192fcb;let _0x24204d=[];_0x35d043[_0xc07597(0xee)]==_0xc07597(0x10e)?_0x24204d=await _0x1cd175(_0xc07597(0x112),mode_1['optionsDefault'][_0xc07597(0xf6)]==_0xc07597(0x10c)?{'chatId':_0x35d043['chatId'],'messageId':_0x35d043[_0xc07597(0x11d)],'labelId':_0x35d043[_0xc07597(0xe0)]}:_0x222e88=>_0x222e88[_0xc07597(0xeb)]==_0x35d043[_0xc07597(0xeb)]&&_0x222e88['messageId']==_0x35d043['messageId']&&_0x222e88[_0xc07597(0xe0)]==_0x35d043[_0xc07597(0xe0)]):_0x24204d=await _0x1cd175(_0xc07597(0x112),mode_1['optionsDefault']['driveStorage']=='mongo'?{'chatId':_0x35d043[_0xc07597(0xeb)],'labelId':_0x35d043[_0xc07597(0xe0)]}:_0x465814=>_0x465814[_0xc07597(0xeb)]==_0x35d043[_0xc07597(0xeb)]&&_0x465814['labelId']==_0x35d043[_0xc07597(0xe0)]);switch(_0x29cced){case _0xc07597(0xef):let _0x377fd9=mode_1['optionsDefault'][_0xc07597(0xf6)]==_0xc07597(0x10c)?!_0x24204d:_0x24204d[_0xc07597(0xfc)]==0x0;_0x377fd9&&await _0x4d729e('associations',_0x35d043);break;case _0xc07597(0xe1):_0x35d043[_0xc07597(0xee)]==_0xc07597(0x10e)?await _0x31100a(_0xc07597(0x112),{'type':'label_message','labelId':_0x35d043[_0xc07597(0xe0)],'chatId':_0x35d043[_0xc07597(0xeb)],'messageId':_0x35d043[_0xc07597(0x11d)]}):await _0x31100a('associations',{'type':_0xc07597(0xfa),'labelId':_0x35d043[_0xc07597(0xe0)],'chatId':_0x35d043[_0xc07597(0xeb)]});break;default:console[_0xc07597(0xed)](_0xc07597(0x10f)+_0x29cced+']');}}));},_0x831221=async _0x37aa74=>{const _0x32646d=_0x290a4f;_0x32646d===null||_0x32646d===void 0x0?void 0x0:_0x32646d['dropDatabase']();};return mode_1['optionsDefault'][_0x161113(0xf6)]==_0x161113(0x10c)&&(_0x1bd667('messages',async _0x269571=>{const _0x408f12=_0x161113;await(0x0,sleep_promise_1[_0x408f12(0x106)])(0x1);const _0x1698b4=_0x290a4f,_0x607bf6=_0x1698b4===null||_0x1698b4===void 0x0?void 0x0:_0x1698b4[_0x408f12(0x10b)](_0x408f12(0xf0));await(_0x607bf6===null||_0x607bf6===void 0x0?void 0x0:_0x607bf6[_0x408f12(0x100)](_0x269571['el']));}),_0x1bd667(_0x161113(0x11b),async _0x589947=>{const _0x3ae3a9=_0x161113;await(0x0,sleep_promise_1[_0x3ae3a9(0x106)])(0x1);const _0x200126=_0x290a4f,_0xdd42b7=_0x200126===null||_0x200126===void 0x0?void 0x0:_0x200126['collection'](_0x3ae3a9(0x11b));await(_0xdd42b7===null||_0xdd42b7===void 0x0?void 0x0:_0xdd42b7[_0x3ae3a9(0x100)](_0x589947['el']));}),_0x1bd667(_0x161113(0x107),async _0x3c9ea2=>{const _0x403f88=_0x161113;await(0x0,sleep_promise_1[_0x403f88(0x106)])(0x1);const _0x473a0e=_0x290a4f,_0x5d64eb=_0x473a0e===null||_0x473a0e===void 0x0?void 0x0:_0x473a0e[_0x403f88(0x10b)]('contacts');await(_0x5d64eb===null||_0x5d64eb===void 0x0?void 0x0:_0x5d64eb[_0x403f88(0x100)](_0x3c9ea2['el']));}),_0x1bd667(_0x161113(0x101),async _0x51a306=>{const _0x20a8b5=_0x161113;await(0x0,sleep_promise_1[_0x20a8b5(0x106)])(0x1);const _0x1c4e2b=_0x290a4f,_0x1e57d7=_0x1c4e2b===null||_0x1c4e2b===void 0x0?void 0x0:_0x1c4e2b[_0x20a8b5(0x10b)](_0x20a8b5(0x101));await(_0x1e57d7===null||_0x1e57d7===void 0x0?void 0x0:_0x1e57d7[_0x20a8b5(0x100)](_0x51a306['el']));})),{'bind':_0x2c2953,'removeCollection':_0x831221,'filterData':_0x13afe4,'searchData':_0x1cd175};};function a95_0x3f43(){const _0x40419f=['7nqTglz','defineProperty','24gameGT','messaging-history.set','labels.association','create','../Settings/db','chats.update','4thRenY','chatId','12531620jUEUiK','error','type','add','messages','1703211DpElzW','__esModule','sleep-promise','update','deleted','driveStorage','updateOne','find','messageStubType','label_jid','Mongo','length','split','g.us','notify','insertOne','labels','1419909bYZdEx','nodataFull','deleteOne','3114924BlGCWU','default','contacts','7413832ZVCDMK','filter','log','collection','mongo','../Settings/queue/rabbitMQ','label_message','unknown\x20operation\x20type\x20[','8483274wszwlV','toArray','associations','forEach','../Connection/mode','key','status','optionsDefault','labels.edit','super-bionic','readMessages','chats','1496700DvXdrd','messageId','RabbitMQ','labelId','remove'];a95_0x3f43=function(){return _0x40419f;};return a95_0x3f43();}