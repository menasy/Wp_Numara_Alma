function a29_0x3d03(_0x5353aa,_0x157c26){const _0x4f8881=a29_0x4f88();return a29_0x3d03=function(_0x3d0312,_0x4b7695){_0x3d0312=_0x3d0312-0xa5;let _0x2cd627=_0x4f8881[_0x3d0312];return _0x2cd627;},a29_0x3d03(_0x5353aa,_0x157c26);}const a29_0x29f111=a29_0x3d03;(function(_0x23d292,_0x55c722){const _0x41c39d=a29_0x3d03,_0x5a140e=_0x23d292();while(!![]){try{const _0x4fba35=-parseInt(_0x41c39d(0xbd))/0x1+parseInt(_0x41c39d(0xaf))/0x2*(-parseInt(_0x41c39d(0xb2))/0x3)+-parseInt(_0x41c39d(0xae))/0x4+-parseInt(_0x41c39d(0xb4))/0x5+-parseInt(_0x41c39d(0xc4))/0x6+parseInt(_0x41c39d(0xbe))/0x7*(parseInt(_0x41c39d(0xb7))/0x8)+parseInt(_0x41c39d(0xa5))/0x9;if(_0x4fba35===_0x55c722)break;else _0x5a140e['push'](_0x5a140e['shift']());}catch(_0x3d85dd){_0x5a140e['push'](_0x5a140e['shift']());}}}(a29_0x4f88,0x68569));const queue_job=require(a29_0x29f111(0xba)),SenderKeyMessage=require(a29_0x29f111(0xb0)),crypto=require('super-libsignal/src/crypto');function a29_0x4f88(){const _0x280046=['setSenderChainKey','toString','15500961mhXMxM','addSenderMessageKey','string','removeSenderMessageKey','loadSenderKey','storeSenderKey','decrypt','getCipherText','getSigningKeyPublic','1504224hoVbuj','98074lKnGLx','./sender_key_message','senderKeyName','45UlYJww','getIteration','192345XQEqUV','getIv','getNext','192816RjZJuS','getSenderKey','getSenderMessageKey','./queue_job','senderKeyStore','getKeyId','169831OfgdVz','70ParvRr','verifySignature','encrypt','Received\x20message\x20with\x20old\x20counter:\x20','No\x20session\x20to\x20encrypt\x20message','InvalidMessageException','1296414GIAxxS','from','getSenderKeyState','getCipherKey','getSigningKeyPrivate','queueJob','getPlainText','base64','getSenderChainKey'];a29_0x4f88=function(){return _0x280046;};return a29_0x4f88();}class GroupCipher{constructor(_0x19f293,_0x36cf8b){const _0x4e4fec=a29_0x29f111;this[_0x4e4fec(0xbb)]=_0x19f293,this[_0x4e4fec(0xb1)]=_0x36cf8b;}[a29_0x29f111(0xc9)](_0x5f4741){const _0x92159e=a29_0x29f111;return queue_job(this[_0x92159e(0xb1)][_0x92159e(0xce)](),_0x5f4741);}async[a29_0x29f111(0xc0)](_0x18edd1){const _0x4e7105=a29_0x29f111;return await this[_0x4e7105(0xc9)](async()=>{const _0x827b7d=_0x4e7105,_0x4ee8c=await this['senderKeyStore'][_0x827b7d(0xa9)](this['senderKeyName']);if(!_0x4ee8c)throw new Error('No\x20SenderKeyRecord\x20found\x20for\x20encryption');const _0x453eec=_0x4ee8c['getSenderKeyState']();if(!_0x453eec)throw new Error(_0x827b7d(0xc2));const _0x42e5b3=_0x453eec[_0x827b7d(0xcc)]()['getIteration'](),_0x40d9c3=this['getSenderKey'](_0x453eec,_0x42e5b3===0x0?0x0:_0x42e5b3+0x1),_0x1d9936=await this[_0x827b7d(0xac)](_0x40d9c3['getIv'](),_0x40d9c3[_0x827b7d(0xc7)](),_0x18edd1),_0x59c533=new SenderKeyMessage(_0x453eec[_0x827b7d(0xbc)](),_0x40d9c3['getIteration'](),_0x1d9936,_0x453eec[_0x827b7d(0xc8)]());return await this[_0x827b7d(0xbb)]['storeSenderKey'](this['senderKeyName'],_0x4ee8c),_0x59c533['serialize']();});}async[a29_0x29f111(0xab)](_0x32260d){const _0x10a6f7=a29_0x29f111;return await this[_0x10a6f7(0xc9)](async()=>{const _0x39370a=_0x10a6f7,_0x375421=await this[_0x39370a(0xbb)]['loadSenderKey'](this[_0x39370a(0xb1)]);if(!_0x375421)throw new Error('No\x20SenderKeyRecord\x20found\x20for\x20decryption');const _0x2b8a05=new SenderKeyMessage(null,null,null,null,_0x32260d),_0xe1d0de=_0x375421[_0x39370a(0xc6)](_0x2b8a05[_0x39370a(0xbc)]());if(!_0xe1d0de)throw new Error('No\x20session\x20found\x20to\x20decrypt\x20message');_0x2b8a05[_0x39370a(0xbf)](_0xe1d0de[_0x39370a(0xad)]());const _0x19ff5d=this[_0x39370a(0xb8)](_0xe1d0de,_0x2b8a05['getIteration']()),_0x5cde0d=await this[_0x39370a(0xca)](_0x19ff5d[_0x39370a(0xb5)](),_0x19ff5d[_0x39370a(0xc7)](),_0x2b8a05[_0x39370a(0xac)]());return await this['senderKeyStore'][_0x39370a(0xaa)](this['senderKeyName'],_0x375421),_0x5cde0d;});}['getSenderKey'](_0x17add0,_0x491de6){const _0x4040f4=a29_0x29f111;let _0x239ccf=_0x17add0[_0x4040f4(0xcc)]();if(_0x239ccf[_0x4040f4(0xb3)]()>_0x491de6){if(_0x17add0['hasSenderMessageKey'](_0x491de6))return _0x17add0[_0x4040f4(0xa8)](_0x491de6);throw new Error(_0x4040f4(0xc1)+_0x239ccf['getIteration']()+',\x20'+_0x491de6);}if(_0x491de6-_0x239ccf[_0x4040f4(0xb3)]()>0x7d0)throw new Error('Over\x202000\x20messages\x20into\x20the\x20future!');while(_0x239ccf['getIteration']()<_0x491de6){_0x17add0[_0x4040f4(0xa6)](_0x239ccf[_0x4040f4(0xb9)]()),_0x239ccf=_0x239ccf[_0x4040f4(0xb6)]();}return _0x17add0[_0x4040f4(0xcd)](_0x239ccf[_0x4040f4(0xb6)]()),_0x239ccf[_0x4040f4(0xb9)]();}[a29_0x29f111(0xca)](_0x3eda95,_0x49a202,_0x15a9e1){const _0x567923=a29_0x29f111;try{const _0x12c937=crypto[_0x567923(0xab)](_0x49a202,_0x15a9e1,_0x3eda95);return _0x12c937;}catch(_0x5ac130){throw new Error(_0x567923(0xc3));}}['getCipherText'](_0x5e0d80,_0x5aaff1,_0x17e42c){const _0x29d3ef=a29_0x29f111;try{_0x5e0d80=typeof _0x5e0d80===_0x29d3ef(0xa7)?Buffer['from'](_0x5e0d80,_0x29d3ef(0xcb)):_0x5e0d80,_0x5aaff1=typeof _0x5aaff1===_0x29d3ef(0xa7)?Buffer[_0x29d3ef(0xc5)](_0x5aaff1,'base64'):_0x5aaff1;const _0x287fa7=crypto[_0x29d3ef(0xc0)](_0x5aaff1,Buffer[_0x29d3ef(0xc5)](_0x17e42c),_0x5e0d80);return _0x287fa7;}catch(_0x16e573){throw new Error(_0x29d3ef(0xc3));}}}module['exports']=GroupCipher;